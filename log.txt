PS E:\Andes\11\Heuristics\Reinforcement_learning_milp_heuristic> python .\modules\model\main.py --mode train
=== MODO DE ENTRENAMIENTO ===
Detectados 17 archivos de sistemas

  DUPLICADOS DETECTADOS para ID 1:
   - test_system_1.json: 32 vehículos, 10 plazas, 5 cargadores
   - test_system_11.json: 103 vehículos, 10 plazas, 10 cargadores
   → Asignado como Sistema 1: 32 vehículos (test_system_1.json)
   → Asignado como Sistema 2: 103 vehículos (test_system_11.json)

  DUPLICADOS DETECTADOS para ID 2:
   - test_system_12.json: 183 vehículos, 20 plazas, 15 cargadores
   - test_system_2.json: 49 vehículos, 30 plazas, 12 cargadores
   → Asignado como Sistema 3: 49 vehículos (test_system_2.json)
   → Asignado como Sistema 4: 183 vehículos (test_system_12.json)

  DUPLICADOS DETECTADOS para ID 3:
   - test_system_13.json: 217 vehículos, 30 plazas, 22 cargadores
   - test_system_3.json: 21 vehículos, 60 plazas, 25 cargadores
   → Asignado como Sistema 5: 21 vehículos (test_system_3.json)
   → Asignado como Sistema 6: 217 vehículos (test_system_13.json)

  DUPLICADOS DETECTADOS para ID 4:
   - test_system_14.json: 286 vehículos, 50 plazas, 38 cargadores
   - test_system_4.json: 75 vehículos, 20 plazas, 10 cargadores
   → Asignado como Sistema 7: 75 vehículos (test_system_4.json)
   → Asignado como Sistema 8: 286 vehículos (test_system_14.json)

  DUPLICADOS DETECTADOS para ID 5:
   - test_system_15.json: 341 vehículos, 100 plazas, 62 cargadores
   - test_system_5.json: 72 vehículos, 40 plazas, 27 cargadores
   → Asignado como Sistema 9: 72 vehículos (test_system_5.json)
   → Asignado como Sistema 10: 341 vehículos (test_system_15.json)

  DUPLICADOS DETECTADOS para ID 6:
   - test_system_16.json: 462 vehículos, 150 plazas, 86 cargadores
   - test_system_6.json: 163 vehículos, 80 plazas, 45 cargadores
   → Asignado como Sistema 11: 163 vehículos (test_system_6.json)
   → Asignado como Sistema 12: 462 vehículos (test_system_16.json)

  DUPLICADOS DETECTADOS para ID 7:
   - test_system_17.json: 592 vehículos, 200 plazas, 132 cargadores
   - test_system_7.json: 289 vehículos, 200 plazas, 85 cargadores
   → Asignado como Sistema 13: 289 vehículos (test_system_7.json)
   → Asignado como Sistema 14: 592 vehículos (test_system_17.json)
Sistema 15 cargado: 431 vehículos, 100 plazas, 55 cargadores
Sistema 16 cargado: 285 vehículos, 150 plazas, 80 cargadores
Sistema 17 cargado: 554 vehículos, 30 plazas, 17 cargadores

 Total: 17 sistemas únicos cargados (IDs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
Se cargaron 17 sistemas de prueba.
Progreso de aprendizaje se guardará en: ./learning_progress

INICIANDO ENTRENAMIENTO DQN OPTIMIZADO
Configuración:
   - State size: 40
   - Action size: 60
   - Batch size: 64
   - Episodios por sistema: 25
   - Total de sistemas: 17
   - Total episodios estimados: 425

Creando agente DQN...
DQN Agent usando: cuda
GPU detectada: NVIDIA GeForce RTX 3060
Memoria GPU disponible: 12.0 GB
Red neuronal creada con 11085 parámetros
Agente creado exitosamente

Buscando checkpoints...
No se encontraron checkpoints
Intentando cargar modelo pre-entrenado desde ev_scheduler_model_pytorch.pt...

============================================================
SISTEMA 1 (1/17)
============================================================
Info del sistema: 32 vehículos, 10 plazas, 5 cargadores
Creando entorno para sistema 1...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 1)
   Epsilon actual: 0.9000
   Memoria: 0/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.900)
 62% Completado
Episodio 1 completado:
   Recompensa: 923.20 (promedio últimos 3: 923.20)
   Satisfacción energética: 41.1% (promedio últimos 3: 41.1%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.2s
   Pasos: 32
Nuevo mejor modelo! Métrica combinada: 964.34

Episodio 2/25 (Sistema 1)
   Epsilon actual: 0.9000
   Memoria: 32/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.900)
 62% Completado
Episodio 2 completado:
   Recompensa: 994.77 (promedio últimos 3: 994.77)
   Satisfacción energética: 38.5% (promedio últimos 3: 38.5%)
   Vehículos asignados: 17/32 (53.1%)
   Vehículos saltados: 15/32 (46.9%)
   Tiempo: 0.0s
   Pasos: 32
Nuevo mejor modelo! Métrica combinada: 1033.29

Episodio 3/25 (Sistema 1)
   Epsilon actual: 0.9000
   Memoria: 64/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.900)
 62% Completado
Episodio 3 completado:
   Recompensa: 790.58 (promedio últimos 3: 902.85)
   Satisfacción energética: 35.5% (promedio últimos 3: 38.4%)
   Vehículos asignados: 16/32 (50.0%)
   Vehículos saltados: 16/32 (50.0%)
   Tiempo: 0.2s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.0 minutos restantes

Episodio 4/25 (Sistema 1)
   Epsilon actual: 0.8857
   Memoria: 96/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.886)
 62% Completado
Episodio 4 completado:
   Recompensa: 1229.07 (promedio últimos 3: 1004.81)
   Satisfacción energética: 40.8% (promedio últimos 3: 38.3%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 1269.82
ETA: 0.7 minutos restantes

Episodio 5/25 (Sistema 1)
   Epsilon actual: 0.8716
   Memoria: 128/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.872)
 62% Completado
Episodio 5 completado:
   Recompensa: 1000.97 (promedio últimos 3: 1006.87)
   Satisfacción energética: 42.4% (promedio últimos 3: 39.6%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_0_ep_5.h5
Sin mejora. Paciencia: 1/8
ETA: 0.8 minutos restantes

Episodio 6/25 (Sistema 1)
   Epsilon actual: 0.8578
   Memoria: 160/12000
   Procesando 32 vehículos...      Acción DQN: 2 (Q-value: 1.100)
 62% Completado
Episodio 6 completado:
   Recompensa: 1003.11 (promedio últimos 3: 1077.72)
   Satisfacción energética: 36.7% (promedio últimos 3: 39.9%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 0.4 minutos restantes

Episodio 7/25 (Sistema 1)
   Epsilon actual: 0.8442
   Memoria: 192/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.844)
 62% Completado
Episodio 7 completado:
   Recompensa: 792.60 (promedio últimos 3: 932.23)
   Satisfacción energética: 40.3% (promedio últimos 3: 39.8%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 0.4 minutos restantes

Episodio 8/25 (Sistema 1)
   Epsilon actual: 0.8307
   Memoria: 224/12000
   Procesando 32 vehículos...      Acción aleatoria: 2 (epsilon: 0.831)
 62% Completado
Episodio 8 completado:
   Recompensa: 1262.05 (promedio últimos 3: 1019.25)
   Satisfacción energética: 45.0% (promedio últimos 3: 40.7%)
   Vehículos asignados: 19/32 (59.4%)
   Vehículos saltados: 13/32 (40.6%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 1307.07
ETA: 0.5 minutos restantes

Episodio 9/25 (Sistema 1)
   Epsilon actual: 0.8175
   Memoria: 256/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.818)
 62% Completado
Episodio 9 completado:
   Recompensa: 1213.09 (promedio últimos 3: 1089.24)
   Satisfacción energética: 40.8% (promedio últimos 3: 42.1%)
   Vehículos asignados: 19/32 (59.4%)
   Vehículos saltados: 13/32 (40.6%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 0.5 minutos restantes

Episodio 10/25 (Sistema 1)
   Epsilon actual: 0.8045
   Memoria: 288/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.805)
 62% Completado
Episodio 10 completado:
   Recompensa: 1056.35 (promedio últimos 3: 1177.16)
   Satisfacción energética: 42.9% (promedio últimos 3: 42.9%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_0_ep_10.h5
Sin mejora. Paciencia: 2/8
ETA: 0.5 minutos restantes

Episodio 11/25 (Sistema 1)
   Epsilon actual: 0.7918
   Memoria: 320/12000
   Procesando 32 vehículos...      Acción DQN: 2 (Q-value: 47.391)
 62% Completado
Episodio 11 completado:
   Recompensa: 1005.53 (promedio últimos 3: 1091.66)
   Satisfacción energética: 41.9% (promedio últimos 3: 41.9%)
   Vehículos asignados: 19/32 (59.4%)
   Vehículos saltados: 13/32 (40.6%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 0.5 minutos restantes

Episodio 12/25 (Sistema 1)
   Epsilon actual: 0.7792
   Memoria: 352/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.779)
 62% Completado
Episodio 12 completado:
   Recompensa: 1101.93 (promedio últimos 3: 1054.60)
   Satisfacción energética: 40.3% (promedio últimos 3: 41.7%)
   Vehículos asignados: 17/32 (53.1%)
   Vehículos saltados: 15/32 (46.9%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 0.5 minutos restantes

Episodio 13/25 (Sistema 1)
   Epsilon actual: 0.7668
   Memoria: 384/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.767)
 62% Completado
Episodio 13 completado:
   Recompensa: 1005.41 (promedio últimos 3: 1037.62)
   Satisfacción energética: 39.9% (promedio últimos 3: 40.7%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 0.4 minutos restantes

Episodio 14/25 (Sistema 1)
   Epsilon actual: 0.7546
   Memoria: 416/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.755)
 62% Completado
Episodio 14 completado:
   Recompensa: 976.48 (promedio últimos 3: 1027.94)
   Satisfacción energética: 39.2% (promedio últimos 3: 39.8%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 0.5 minutos restantes

Episodio 15/25 (Sistema 1)
   Epsilon actual: 0.7426
   Memoria: 448/12000
   Procesando 32 vehículos...      Acción aleatoria: 3 (epsilon: 0.743)
 62% Completado
Episodio 15 completado:
   Recompensa: 971.09 (promedio últimos 3: 984.33)
   Satisfacción energética: 39.7% (promedio últimos 3: 39.6%)
   Vehículos asignados: 18/32 (56.2%)
   Vehículos saltados: 14/32 (43.8%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_0_ep_15.h5
Sin mejora. Paciencia: 7/8
ETA: 0.5 minutos restantes

Episodio 16/25 (Sistema 1)
   Epsilon actual: 0.7308
   Memoria: 480/12000
   Procesando 32 vehículos...      Acción aleatoria: 1 (epsilon: 0.731)
 62% Completado
Episodio 16 completado:
   Recompensa: 1065.88 (promedio últimos 3: 1004.48)
   Satisfacción energética: 43.1% (promedio últimos 3: 40.6%)
   Vehículos asignados: 19/32 (59.4%)
   Vehículos saltados: 13/32 (40.6%)
   Tiempo: 0.1s
   Pasos: 32
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
E:\Andes\11\Heuristics\Reinforcement_learning_milp_heuristic\modules\model\DQN_agent.py:401: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  checkpoint = torch.load(filepath, map_location=self.device)
Cargado mejor modelo desde ./checkpoints\best_model_sys_0.h5
Progreso del sistema 1 guardado en: ./learning_progress\system_1_progress.json
RESUMEN SISTEMA 1:
  Mejora en recompensa: 142.68
  Mejora en satisfacción: 2.0%
  Satisfacción final: 43.1%
  Ratio asignación final: 59.4%

RESUMEN SISTEMA 1:
   Tiempo total: 0.0 minutos
   Recompensa promedio: 1024.51
   Mejor métrica combinada: 1307.07
   Satisfacción promedio: 40.5%
   Mejor satisfacción: 45.0%
   Episodios completados: 16
   Epsilon final: 0.8175


============================================================
SISTEMA 2 (2/17)
============================================================
Info del sistema: 103 vehículos, 10 plazas, 10 cargadores
Creando entorno para sistema 2...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 2)
   Epsilon actual: 0.8175
   Memoria: 512/12000
   Procesando 103 vehículos...      Acción aleatoria: 8 (epsilon: 0.818)
 19% 39%      Acción aleatoria: 1 (epsilon: 0.809)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.801)
 Completado
Episodio 1 completado:
   Recompensa: -2934.20 (promedio últimos 3: -2934.20)
   Satisfacción energética: 14.4% (promedio últimos 3: 14.4%)
   Vehículos asignados: 22/103 (21.4%)
   Vehículos saltados: 79/103 (76.7%)
   Tiempo: 0.2s
   Pasos: 101
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -2919.79

Episodio 2/25 (Sistema 2)
   Epsilon actual: 0.7934
   Memoria: 613/12000
   Procesando 103 vehículos...      Acción aleatoria: 4 (epsilon: 0.793)
 19% 39%      Acción aleatoria: 4 (epsilon: 0.785)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.778)
 Completado
Episodio 2 completado:
   Recompensa: -3138.01 (promedio últimos 3: -3138.01)
   Satisfacción energética: 14.8% (promedio últimos 3: 14.8%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.2s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 2)
   Epsilon actual: 0.7699
   Memoria: 714/12000
   Procesando 103 vehículos...      Acción aleatoria: 3 (epsilon: 0.770)
 19% 39%      Acción DQN: 0 (Q-value: -3.321)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.755)
 Completado
Episodio 3 completado:
   Recompensa: -3017.36 (promedio últimos 3: -3029.86)
   Satisfacción energética: 15.8% (promedio últimos 3: 15.0%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.6 minutos restantes

Episodio 4/25 (Sistema 2)
   Epsilon actual: 0.7471
   Memoria: 815/12000
   Procesando 103 vehículos...      Acción DQN: 2 (Q-value: 45.215)
 19% 39%      Acción aleatoria: 7 (epsilon: 0.740)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.732)
 Completado
Episodio 4 completado:
   Recompensa: -2967.75 (promedio últimos 3: -3041.04)
   Satisfacción energética: 15.9% (promedio últimos 3: 15.5%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.2s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 1.6 minutos restantes

Episodio 5/25 (Sistema 2)
   Epsilon actual: 0.7250
   Memoria: 916/12000
   Procesando 103 vehículos...      Acción aleatoria: 2 (epsilon: 0.725)
 19% 39%      Acción aleatoria: 0 (epsilon: 0.718)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.711)
 Completado
Episodio 5 completado:
   Recompensa: -2839.75 (promedio últimos 3: -2941.62)
   Satisfacción energética: 17.6% (promedio últimos 3: 16.4%)
   Vehículos asignados: 25/103 (24.3%)
   Vehículos saltados: 76/103 (73.8%)
   Tiempo: 0.2s
   Pasos: 101
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_1_ep_5.h5
Nuevo mejor modelo! Métrica combinada: -2822.19
ETA: 1.6 minutos restantes

Episodio 6/25 (Sistema 2)
   Epsilon actual: 0.7036
   Memoria: 1017/12000
   Procesando 103 vehículos...      Acción aleatoria: 5 (epsilon: 0.704)
 19% 39%      Acción DQN: 2 (Q-value: -1.336)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.690)
 Completado
Episodio 6 completado:
   Recompensa: -2786.29 (promedio últimos 3: -2864.60)
   Satisfacción energética: 16.3% (promedio últimos 3: 16.6%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -2770.00
ETA: 1.6 minutos restantes

Episodio 7/25 (Sistema 2)
   Epsilon actual: 0.6827
   Memoria: 1118/12000
   Procesando 103 vehículos...      Acción aleatoria: 3 (epsilon: 0.683)
 19% 39%      Acción DQN: 5 (Q-value: -2.206)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.669)
 Completado
Episodio 7 completado:
   Recompensa: -2769.31 (promedio últimos 3: -2798.45)
   Satisfacción energética: 18.1% (promedio últimos 3: 17.3%)
   Vehículos asignados: 25/103 (24.3%)
   Vehículos saltados: 76/103 (73.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -2751.22
ETA: 1.8 minutos restantes

Episodio 8/25 (Sistema 2)
   Epsilon actual: 0.6625
   Memoria: 1219/12000
   Procesando 103 vehículos...      Acción aleatoria: 3 (epsilon: 0.663)
 19% 39%      Acción aleatoria: 0 (epsilon: 0.656)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.649)
 Completado
Episodio 8 completado:
   Recompensa: -2987.43 (promedio últimos 3: -2847.68)
   Satisfacción energética: 14.9% (promedio últimos 3: 16.4%)
   Vehículos asignados: 22/103 (21.4%)
   Vehículos saltados: 79/103 (76.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.9 minutos restantes

Episodio 9/25 (Sistema 2)
   Epsilon actual: 0.6429
   Memoria: 1320/12000
   Procesando 103 vehículos...      Acción aleatoria: 3 (epsilon: 0.643)
 19% 39%      Acción DQN: 0 (Q-value: -37.282)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.630)
 Completado
Episodio 9 completado:
   Recompensa: -3036.94 (promedio últimos 3: -2931.23)
   Satisfacción energética: 14.8% (promedio últimos 3: 15.9%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.9 minutos restantes

Episodio 10/25 (Sistema 2)
   Epsilon actual: 0.6239
   Memoria: 1421/12000
   Procesando 103 vehículos...      Acción aleatoria: 5 (epsilon: 0.624)
 19% 39%      Acción aleatoria: 7 (epsilon: 0.618)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.612)
 Completado
Episodio 10 completado:
   Recompensa: -3030.14 (promedio últimos 3: -3018.17)
   Satisfacción energética: 16.6% (promedio últimos 3: 15.5%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_1_ep_10.h5
Sin mejora. Paciencia: 3/8
ETA: 1.7 minutos restantes

Episodio 11/25 (Sistema 2)
   Epsilon actual: 0.6055
   Memoria: 1522/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 161.002)
 19% 39%      Acción DQN: 5 (Q-value: 4.923)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.593)
 Completado
Episodio 11 completado:
   Recompensa: -3113.51 (promedio últimos 3: -3060.20)
   Satisfacción energética: 15.5% (promedio últimos 3: 15.7%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 1.7 minutos restantes

Episodio 12/25 (Sistema 2)
   Epsilon actual: 0.5876
   Memoria: 1623/12000
   Procesando 103 vehículos...      Acción aleatoria: 0 (epsilon: 0.588)
 19% 39%      Acción aleatoria: 4 (epsilon: 0.582)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.576)
 Completado
Episodio 12 completado:
   Recompensa: -3098.77 (promedio últimos 3: -3080.81)
   Satisfacción energética: 16.4% (promedio últimos 3: 16.2%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 1.7 minutos restantes

Episodio 13/25 (Sistema 2)
   Epsilon actual: 0.5702
   Memoria: 1724/12000
   Procesando 103 vehículos...      Acción aleatoria: 5 (epsilon: 0.570)
 19% 39%      Acción aleatoria: 8 (epsilon: 0.564)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.559)
 Completado
Episodio 13 completado:
   Recompensa: -2758.15 (promedio últimos 3: -2990.14)
   Satisfacción energética: 16.2% (promedio últimos 3: 16.0%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -2741.93
ETA: 1.7 minutos restantes

Episodio 14/25 (Sistema 2)
   Epsilon actual: 0.5533
   Memoria: 1825/12000
   Procesando 103 vehículos...      Acción aleatoria: 6 (epsilon: 0.553)
 19% 39%      Acción aleatoria: 0 (epsilon: 0.548)
 58% 78% 97%      Acción DQN: 0 (Q-value: -43.728)
 Completado
Episodio 14 completado:
   Recompensa: -3029.85 (promedio últimos 3: -2962.26)
   Satisfacción energética: 14.3% (promedio últimos 3: 15.6%)
   Vehículos asignados: 21/103 (20.4%)
   Vehículos saltados: 80/103 (77.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.7 minutos restantes

Episodio 15/25 (Sistema 2)
   Epsilon actual: 0.5369
   Memoria: 1926/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 256.200)
 19% 39%      Acción aleatoria: 6 (epsilon: 0.532)
 58% 78% 97%      Acción DQN: 0 (Q-value: -91.941)
 Completado
Episodio 15 completado:
   Recompensa: -2943.24 (promedio últimos 3: -2910.42)
   Satisfacción energética: 17.7% (promedio últimos 3: 16.1%)
   Vehículos asignados: 22/103 (21.4%)
   Vehículos saltados: 79/103 (76.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_1_ep_15.h5
Sin mejora. Paciencia: 2/8
ETA: 1.7 minutos restantes

Episodio 16/25 (Sistema 2)
   Epsilon actual: 0.5211
   Memoria: 2027/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 229.712)
 19% 39%      Acción DQN: 5 (Q-value: -21.254)
 58% 78% 97%      Acción DQN: 0 (Q-value: -72.608)
 Completado
Episodio 16 completado:
   Recompensa: -3025.66 (promedio últimos 3: -2999.58)
   Satisfacción energética: 15.7% (promedio últimos 3: 15.9%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 1.7 minutos restantes

Episodio 17/25 (Sistema 2)
   Epsilon actual: 0.5056
   Memoria: 2128/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 290.865)
 19% 39%      Acción aleatoria: 6 (epsilon: 0.501)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.496)
 Completado
Episodio 17 completado:
   Recompensa: -3085.47 (promedio últimos 3: -3018.12)
   Satisfacción energética: 15.4% (promedio últimos 3: 16.3%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 1.7 minutos restantes

Episodio 18/25 (Sistema 2)
   Epsilon actual: 0.4907
   Memoria: 2229/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 294.409)
 19% 39%      Acción aleatoria: 0 (epsilon: 0.486)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.481)
 Completado
Episodio 18 completado:
   Recompensa: -2740.58 (promedio últimos 3: -2950.57)
   Satisfacción energética: 15.4% (promedio últimos 3: 15.5%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -2725.21
ETA: 1.7 minutos restantes

Episodio 19/25 (Sistema 2)
   Epsilon actual: 0.4762
   Memoria: 2330/12000
   Procesando 103 vehículos...      Acción aleatoria: 6 (epsilon: 0.476)
 19% 39%      Acción DQN: 5 (Q-value: -20.790)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.467)
 Completado
Episodio 19 completado:
   Recompensa: -3067.56 (promedio últimos 3: -2964.54)
   Satisfacción energética: 15.9% (promedio últimos 3: 15.6%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.8 minutos restantes

Episodio 20/25 (Sistema 2)
   Epsilon actual: 0.4621
   Memoria: 2431/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 279.638)
 19% 39%      Acción DQN: 5 (Q-value: -22.210)
 58% 78% 97%      Acción DQN: 0 (Q-value: -78.080)
 Completado
Episodio 20 completado:
   Recompensa: -2972.68 (promedio últimos 3: -2926.94)
   Satisfacción energética: 14.7% (promedio últimos 3: 15.3%)
   Vehículos asignados: 22/103 (21.4%)
   Vehículos saltados: 79/103 (76.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_1_ep_20.h5
Sin mejora. Paciencia: 2/8
ETA: 1.8 minutos restantes

Episodio 21/25 (Sistema 2)
   Epsilon actual: 0.4484
   Memoria: 2532/12000
   Procesando 103 vehículos...      Acción DQN: 5 (Q-value: 339.212)
 19% 39%      Acción DQN: 1 (Q-value: -39.330)
 58% 78% 97%      Acción DQN: 0 (Q-value: -88.967)
 Completado
Episodio 21 completado:
   Recompensa: -2742.82 (promedio últimos 3: -2927.69)
   Satisfacción energética: 16.3% (promedio últimos 3: 15.6%)
   Vehículos asignados: 25/103 (24.3%)
   Vehículos saltados: 76/103 (73.8%)
   Tiempo: 0.5s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 2.3 minutos restantes

Episodio 22/25 (Sistema 2)
   Epsilon actual: 0.4351
   Memoria: 2633/12000
   Procesando 103 vehículos...      Acción aleatoria: 5 (epsilon: 0.435)
 19% 39%      Acción DQN: 5 (Q-value: -20.862)
 58% 78% 97%      Acción DQN: 0 (Q-value: -90.773)
 Completado
Episodio 22 completado:
   Recompensa: -2820.30 (promedio últimos 3: -2845.27)
   Satisfacción energética: 14.8% (promedio últimos 3: 15.3%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.4s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 2.6 minutos restantes

Episodio 23/25 (Sistema 2)
   Epsilon actual: 0.4223
   Memoria: 2734/12000
   Procesando 103 vehículos...      Acción aleatoria: 1 (epsilon: 0.422)
 19% 39%      Acción DQN: 1 (Q-value: -35.795)
 58% 78% 97%      Acción DQN: 0 (Q-value: -80.948)
 Completado
Episodio 23 completado:
   Recompensa: -2974.13 (promedio últimos 3: -2845.75)
   Satisfacción energética: 16.1% (promedio últimos 3: 15.7%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 2.6 minutos restantes

Episodio 24/25 (Sistema 2)
   Epsilon actual: 0.4098
   Memoria: 2835/12000
   Procesando 103 vehículos...      Acción aleatoria: 0 (epsilon: 0.410)
 19% 39%      Acción aleatoria: 0 (epsilon: 0.406)
 58% 78% 97%      Acción aleatoria: 0 (epsilon: 0.402)
 Completado
Episodio 24 completado:
   Recompensa: -2906.00 (promedio últimos 3: -2900.14)
   Satisfacción energética: 14.4% (promedio últimos 3: 15.1%)
   Vehículos asignados: 23/103 (22.3%)
   Vehículos saltados: 78/103 (75.7%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 2.0 minutos restantes

Episodio 25/25 (Sistema 2)
   Epsilon actual: 0.3977
   Memoria: 2936/12000
   Procesando 103 vehículos...      Acción aleatoria: 1 (epsilon: 0.398)
 19% 39%      Acción aleatoria: 3 (epsilon: 0.394)
 58% 78% 97%      Acción DQN: 0 (Q-value: -74.001)
 Completado
Episodio 25 completado:
   Recompensa: -2998.32 (promedio últimos 3: -2959.48)
   Satisfacción energética: 16.6% (promedio últimos 3: 15.7%)
   Vehículos asignados: 24/103 (23.3%)
   Vehículos saltados: 77/103 (74.8%)
   Tiempo: 0.3s
   Pasos: 101
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_1_ep_25.h5
Sin mejora. Paciencia: 7/8
ETA: 1.7 minutos restantes
Progreso del sistema 2 guardado en: ./learning_progress\system_2_progress.json
RESUMEN SISTEMA 2:
  Mejora en recompensa: -64.12
  Mejora en satisfacción: 2.2%
  Satisfacción final: 16.6%
  Ratio asignación final: 23.3%

RESUMEN SISTEMA 2:
   Tiempo total: 0.2 minutos
   Recompensa promedio: -2951.37
   Mejor métrica combinada: -2725.21
   Satisfacción promedio: 15.8%
   Mejor satisfacción: 18.1%
   Episodios completados: 25
   Epsilon final: 0.3859


============================================================
SISTEMA 3 (3/17)
============================================================
Info del sistema: 49 vehículos, 30 plazas, 12 cargadores
Creando entorno para sistema 3...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 3)
   Epsilon actual: 0.3859
   Memoria: 3037/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1503.809)
 41% 82% Completado
Episodio 1 completado:
   Recompensa: 2419.22 (promedio últimos 3: 2419.22)
   Satisfacción energética: 53.9% (promedio últimos 3: 53.9%)
   Vehículos asignados: 39/49 (79.6%)
   Vehículos saltados: 10/49 (20.4%)
   Tiempo: 0.1s
   Pasos: 49
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 2473.12

Episodio 2/25 (Sistema 3)
   Epsilon actual: 0.3790
   Memoria: 3086/12000
   Procesando 49 vehículos...      Acción aleatoria: 5 (epsilon: 0.379)
 41% 82% Completado
Episodio 2 completado:
   Recompensa: 2218.50 (promedio últimos 3: 2218.50)
   Satisfacción energética: 52.9% (promedio últimos 3: 52.9%)
   Vehículos asignados: 36/49 (73.5%)
   Vehículos saltados: 13/49 (26.5%)
   Tiempo: 0.1s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 3)
   Epsilon actual: 0.3722
   Memoria: 3135/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1575.001)
 41% 82% Completado
Episodio 3 completado:
   Recompensa: 2274.94 (promedio últimos 3: 2304.22)
   Satisfacción energética: 54.1% (promedio últimos 3: 53.6%)
   Vehículos asignados: 38/49 (77.6%)
   Vehículos saltados: 11/49 (22.4%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 0.9 minutos restantes

Episodio 4/25 (Sistema 3)
   Epsilon actual: 0.3656
   Memoria: 3184/12000
   Procesando 49 vehículos...      Acción aleatoria: 7 (epsilon: 0.366)
 41% 82% Completado
Episodio 4 completado:
   Recompensa: 2505.98 (promedio últimos 3: 2333.14)
   Satisfacción energética: 60.5% (promedio últimos 3: 55.8%)
   Vehículos asignados: 40/49 (81.6%)
   Vehículos saltados: 9/49 (18.4%)
   Tiempo: 0.1s
   Pasos: 49
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 2566.51
ETA: 0.9 minutos restantes

Episodio 5/25 (Sistema 3)
   Epsilon actual: 0.3591
   Memoria: 3233/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1489.452)
 41% 82% Completado
Episodio 5 completado:
   Recompensa: 2336.16 (promedio últimos 3: 2372.36)
   Satisfacción energética: 54.1% (promedio últimos 3: 56.3%)
   Vehículos asignados: 37/49 (75.5%)
   Vehículos saltados: 12/49 (24.5%)
   Tiempo: 0.1s
   Pasos: 49
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_2_ep_5.h5
Sin mejora. Paciencia: 1/8
ETA: 0.9 minutos restantes

Episodio 6/25 (Sistema 3)
   Epsilon actual: 0.3526
   Memoria: 3282/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1659.543)
 41% 82% Completado
Episodio 6 completado:
   Recompensa: 2314.40 (promedio últimos 3: 2385.51)
   Satisfacción energética: 56.0% (promedio últimos 3: 56.9%)
   Vehículos asignados: 36/49 (73.5%)
   Vehículos saltados: 13/49 (26.5%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 0.9 minutos restantes

Episodio 7/25 (Sistema 3)
   Epsilon actual: 0.3463
   Memoria: 3331/12000
   Procesando 49 vehículos...      Acción aleatoria: 9 (epsilon: 0.346)
 41% 82% Completado
Episodio 7 completado:
   Recompensa: 2220.68 (promedio últimos 3: 2290.41)
   Satisfacción energética: 54.0% (promedio últimos 3: 54.7%)
   Vehículos asignados: 37/49 (75.5%)
   Vehículos saltados: 12/49 (24.5%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 1.1 minutos restantes

Episodio 8/25 (Sistema 3)
   Epsilon actual: 0.3402
   Memoria: 3380/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1485.869)
 41% 82% Completado
Episodio 8 completado:
   Recompensa: 2364.64 (promedio últimos 3: 2299.91)
   Satisfacción energética: 55.5% (promedio últimos 3: 55.1%)
   Vehículos asignados: 38/49 (77.6%)
   Vehículos saltados: 11/49 (22.4%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 1.1 minutos restantes

Episodio 9/25 (Sistema 3)
   Epsilon actual: 0.3341
   Memoria: 3429/12000
   Procesando 49 vehículos...      Acción aleatoria: 3 (epsilon: 0.334)
 41% 82% Completado
Episodio 9 completado:
   Recompensa: 2294.62 (promedio últimos 3: 2293.31)
   Satisfacción energética: 53.3% (promedio últimos 3: 54.3%)
   Vehículos asignados: 37/49 (75.5%)
   Vehículos saltados: 12/49 (24.5%)
   Tiempo: 0.1s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 1.1 minutos restantes

Episodio 10/25 (Sistema 3)
   Epsilon actual: 0.3281
   Memoria: 3478/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1400.577)
 41% 82% Completado
Episodio 10 completado:
   Recompensa: 2342.54 (promedio últimos 3: 2333.93)
   Satisfacción energética: 55.3% (promedio últimos 3: 54.7%)
   Vehículos asignados: 40/49 (81.6%)
   Vehículos saltados: 9/49 (18.4%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_2_ep_10.h5
Sin mejora. Paciencia: 6/8
ETA: 1.0 minutos restantes

Episodio 11/25 (Sistema 3)
   Epsilon actual: 0.3223
   Memoria: 3527/12000
   Procesando 49 vehículos...      Acción DQN: 5 (Q-value: 1561.296)
 41% 82% Completado
Episodio 11 completado:
   Recompensa: 2062.69 (promedio últimos 3: 2233.28)
   Satisfacción energética: 51.2% (promedio últimos 3: 53.3%)
   Vehículos asignados: 37/49 (75.5%)
   Vehículos saltados: 12/49 (24.5%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 1.0 minutos restantes

Episodio 12/25 (Sistema 3)
   Epsilon actual: 0.3165
   Memoria: 3576/12000
   Procesando 49 vehículos...      Acción aleatoria: 0 (epsilon: 0.317)
 41% 82% Completado
Episodio 12 completado:
   Recompensa: 2306.31 (promedio últimos 3: 2237.18)
   Satisfacción energética: 56.1% (promedio últimos 3: 54.2%)
   Vehículos asignados: 38/49 (77.6%)
   Vehículos saltados: 11/49 (22.4%)
   Tiempo: 0.2s
   Pasos: 49
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_2.h5
Progreso del sistema 3 guardado en: ./learning_progress\system_3_progress.json
RESUMEN SISTEMA 3:
  Mejora en recompensa: -112.91
  Mejora en satisfacción: 2.2%
  Satisfacción final: 56.1%
  Ratio asignación final: 77.6%

RESUMEN SISTEMA 3:
   Tiempo total: 0.1 minutos
   Recompensa promedio: 2305.06
   Mejor métrica combinada: 2566.51
   Satisfacción promedio: 54.7%
   Mejor satisfacción: 60.5%
   Episodios completados: 12
   Epsilon final: 0.3591


============================================================
SISTEMA 4 (4/17)
============================================================
Info del sistema: 183 vehículos, 20 plazas, 15 cargadores
Creando entorno para sistema 4...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 4)
   Epsilon actual: 0.3591
   Memoria: 3625/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 204.162)
 11% 22%      Acción aleatoria: 0 (epsilon: 0.355)
 33% 44% 55%      Acción DQN: 0 (Q-value: -74.914)
 66% 77%      Acción DQN: 0 (Q-value: -61.179)
 87% 98% Completado
Episodio 1 completado:
   Recompensa: -7266.25 (promedio últimos 3: -7266.25)
   Satisfacción energética: 11.5% (promedio últimos 3: 11.5%)
   Vehículos asignados: 31/183 (16.9%)
   Vehículos saltados: 151/183 (82.5%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -7254.73

Episodio 2/25 (Sistema 4)
   Epsilon actual: 0.3429
   Memoria: 3807/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 223.142)
 11% 22%      Acción DQN: 0 (Q-value: -63.042)
 33% 44% 55%      Acción DQN: 0 (Q-value: -75.040)
 66% 77%      Acción DQN: 0 (Q-value: -53.447)
 87% 98% Completado
Episodio 2 completado:
   Recompensa: -7307.50 (promedio últimos 3: -7307.50)
   Satisfacción energética: 10.2% (promedio últimos 3: 10.2%)
   Vehículos asignados: 30/183 (16.4%)
   Vehículos saltados: 152/183 (83.1%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 4)
   Epsilon actual: 0.3275
   Memoria: 3989/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 238.776)
 11% 22%      Acción DQN: 0 (Q-value: -21.865)
 33% 44% 55%      Acción aleatoria: 0 (epsilon: 0.321)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.318)
 87% 98% Completado
Episodio 3 completado:
   Recompensa: -6562.90 (promedio últimos 3: -7045.55)
   Satisfacción energética: 13.2% (promedio últimos 3: 11.6%)
   Vehículos asignados: 37/183 (20.2%)
   Vehículos saltados: 145/183 (79.2%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6549.67
ETA: 3.2 minutos restantes

Episodio 4/25 (Sistema 4)
   Epsilon actual: 0.3127
   Memoria: 4171/12000
   Procesando 183 vehículos...      Acción aleatoria: 8 (epsilon: 0.313)
 11% 22%      Acción DQN: 0 (Q-value: 39.958)
 33% 44% 55%      Acción DQN: 0 (Q-value: -74.696)
 66% 77%      Acción DQN: 1 (Q-value: -12.948)
 87% 98% Completado
Episodio 4 completado:
   Recompensa: -8104.82 (promedio últimos 3: -7325.07)
   Satisfacción energética: 9.2% (promedio últimos 3: 10.9%)
   Vehículos asignados: 25/183 (13.7%)
   Vehículos saltados: 157/183 (85.8%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 3.1 minutos restantes

Episodio 5/25 (Sistema 4)
   Epsilon actual: 0.2987
   Memoria: 4353/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 329.988)
 11% 22%      Acción aleatoria: 0 (epsilon: 0.296)
 33% 44% 55%      Acción DQN: 0 (Q-value: -59.387)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.290)
 87% 98% Completado
Episodio 5 completado:
   Recompensa: -7739.86 (promedio últimos 3: -7469.19)
   Satisfacción energética: 10.2% (promedio últimos 3: 10.9%)
   Vehículos asignados: 26/183 (14.2%)
   Vehículos saltados: 156/183 (85.2%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_3_ep_5.h5
Sin mejora. Paciencia: 2/8
ETA: 3.0 minutos restantes

Episodio 6/25 (Sistema 4)
   Epsilon actual: 0.2852
   Memoria: 4535/12000
   Procesando 183 vehículos...      Acción aleatoria: 8 (epsilon: 0.285)
 11% 22%      Acción aleatoria: 0 (epsilon: 0.282)
 33% 44% 55%      Acción DQN: 0 (Q-value: -51.409)
 66% 77%      Acción DQN: 0 (Q-value: -40.285)
 87% 98% Completado
Episodio 6 completado:
   Recompensa: -7367.00 (promedio últimos 3: -7737.23)
   Satisfacción energética: 10.4% (promedio últimos 3: 10.0%)
   Vehículos asignados: 32/183 (17.5%)
   Vehículos saltados: 150/183 (82.0%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 3.0 minutos restantes

Episodio 7/25 (Sistema 4)
   Epsilon actual: 0.2724
   Memoria: 4717/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 406.182)
 11% 22%      Acción DQN: 0 (Q-value: 90.264)
 33% 44% 55%      Acción DQN: 0 (Q-value: -56.869)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.264)
 87% 98% Completado
Episodio 7 completado:
   Recompensa: -5958.70 (promedio últimos 3: -7021.85)
   Satisfacción energética: 14.9% (promedio últimos 3: 11.9%)
   Vehículos asignados: 43/183 (23.5%)
   Vehículos saltados: 139/183 (76.0%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -5943.78
ETA: 3.1 minutos restantes

Episodio 8/25 (Sistema 4)
   Epsilon actual: 0.2601
   Memoria: 4899/12000
   Procesando 183 vehículos...      Acción DQN: 1 (Q-value: 387.358)
 11% 22%      Acción DQN: 0 (Q-value: 70.017)
 33% 44% 55%      Acción DQN: 0 (Q-value: -64.911)
 66% 77%      Acción DQN: 1 (Q-value: 36.430)
 87% 98% Completado
Episodio 8 completado:
   Recompensa: -5877.59 (promedio últimos 3: -6401.10)
   Satisfacción energética: 16.3% (promedio últimos 3: 13.9%)
   Vehículos asignados: 43/183 (23.5%)
   Vehículos saltados: 139/183 (76.0%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -5861.26
ETA: 3.1 minutos restantes

Episodio 9/25 (Sistema 4)
   Epsilon actual: 0.2484
   Memoria: 5081/12000
   Procesando 183 vehículos...      Acción DQN: 1 (Q-value: 404.587)
 11% 22%      Acción DQN: 0 (Q-value: 85.786)
 33% 44% 55%      Acción DQN: 0 (Q-value: -53.514)
 66% 77%      Acción DQN: 0 (Q-value: -12.926)
 87% 98% Completado
Episodio 9 completado:
   Recompensa: -6062.97 (promedio últimos 3: -5966.42)
   Satisfacción energética: 14.0% (promedio últimos 3: 15.1%)
   Vehículos asignados: 40/183 (21.9%)
   Vehículos saltados: 142/183 (77.6%)
   Tiempo: 0.5s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 3.2 minutos restantes

Episodio 10/25 (Sistema 4)
   Epsilon actual: 0.2372
   Memoria: 5263/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 484.736)
 11% 22%      Acción aleatoria: 0 (epsilon: 0.235)
 33% 44% 55%      Acción aleatoria: 0 (epsilon: 0.233)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.230)
 87% 98% Completado
Episodio 10 completado:
   Recompensa: -6866.04 (promedio últimos 3: -6268.87)
   Satisfacción energética: 11.7% (promedio últimos 3: 14.0%)
   Vehículos asignados: 33/183 (18.0%)
   Vehículos saltados: 149/183 (81.4%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_3_ep_10.h5
Sin mejora. Paciencia: 2/8
ETA: 3.1 minutos restantes

Episodio 11/25 (Sistema 4)
   Epsilon actual: 0.2266
   Memoria: 5445/12000
   Procesando 183 vehículos...      Acción aleatoria: 2 (epsilon: 0.227)
 11% 22%      Acción DQN: 0 (Q-value: 152.660)
 33% 44% 55%      Acción DQN: 0 (Q-value: 6.006)
 66% 77%      Acción DQN: 0 (Q-value: 17.957)
 87% 98% Completado
Episodio 11 completado:
   Recompensa: -8463.19 (promedio últimos 3: -7130.73)
   Satisfacción energética: 7.2% (promedio últimos 3: 11.0%)
   Vehículos asignados: 20/183 (10.9%)
   Vehículos saltados: 162/183 (88.5%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 3.2 minutos restantes

Episodio 12/25 (Sistema 4)
   Epsilon actual: 0.2164
   Memoria: 5627/12000
   Procesando 183 vehículos...      Acción aleatoria: 8 (epsilon: 0.216)
 11% 22%      Acción DQN: 0 (Q-value: 101.295)
 33% 44% 55%      Acción DQN: 0 (Q-value: -30.341)
 66% 77%      Acción DQN: 0 (Q-value: -8.531)
 87% 98% Completado
Episodio 12 completado:
   Recompensa: -6856.79 (promedio últimos 3: -7395.34)
   Satisfacción energética: 11.7% (promedio últimos 3: 10.2%)
   Vehículos asignados: 33/183 (18.0%)
   Vehículos saltados: 149/183 (81.4%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 3.2 minutos restantes

Episodio 13/25 (Sistema 4)
   Epsilon actual: 0.2066
   Memoria: 5809/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 551.930)
 11% 22%      Acción DQN: 0 (Q-value: 110.021)
 33% 44% 55%      Acción DQN: 0 (Q-value: -31.153)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.201)
 87% 98% Completado
Episodio 13 completado:
   Recompensa: -6356.47 (promedio últimos 3: -7225.48)
   Satisfacción energética: 13.1% (promedio últimos 3: 10.7%)
   Vehículos asignados: 39/183 (21.3%)
   Vehículos saltados: 143/183 (78.1%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 3.3 minutos restantes

Episodio 14/25 (Sistema 4)
   Epsilon actual: 0.1973
   Memoria: 5991/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 555.708)
 11% 22%      Acción DQN: 0 (Q-value: 120.143)
 33% 44% 55%      Acción DQN: 0 (Q-value: 3.171)
 66% 77%      Acción DQN: 0 (Q-value: 25.610)
 87% 98% Completado
Episodio 14 completado:
   Recompensa: -8537.01 (promedio últimos 3: -7250.09)
   Satisfacción energética: 7.1% (promedio últimos 3: 10.6%)
   Vehículos asignados: 20/183 (10.9%)
   Vehículos saltados: 162/183 (88.5%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 3.4 minutos restantes

Episodio 15/25 (Sistema 4)
   Epsilon actual: 0.1884
   Memoria: 6173/12000
   Procesando 183 vehículos...      Acción DQN: 5 (Q-value: 642.382)
 11% 22%      Acción DQN: 0 (Q-value: 137.796)
 33% 44% 55%      Acción DQN: 0 (Q-value: -19.412)
 66% 77%      Acción aleatoria: 0 (epsilon: 0.183)
 87% 98% Completado
Episodio 15 completado:
   Recompensa: -6880.64 (promedio últimos 3: -7258.04)
   Satisfacción energética: 11.3% (promedio últimos 3: 10.5%)
   Vehículos asignados: 34/183 (18.6%)
   Vehículos saltados: 148/183 (80.9%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_3_ep_15.h5
Sin mejora. Paciencia: 7/8
ETA: 3.4 minutos restantes

Episodio 16/25 (Sistema 4)
   Epsilon actual: 0.1800
   Memoria: 6355/12000
   Procesando 183 vehículos...      Acción aleatoria: 7 (epsilon: 0.180)
 11% 22%      Acción aleatoria: 0 (epsilon: 0.178)
 33% 44% 55%      Acción aleatoria: 0 (epsilon: 0.176)
 66% 77%      Acción DQN: 1 (Q-value: 109.139)
 87% 98% Completado
Episodio 16 completado:
   Recompensa: -6568.15 (promedio últimos 3: -7328.60)
   Satisfacción energética: 12.9% (promedio últimos 3: 10.4%)
   Vehículos asignados: 37/183 (20.2%)
   Vehículos saltados: 145/183 (79.2%)
   Tiempo: 0.6s
   Pasos: 182
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_3.h5
Progreso del sistema 4 guardado en: ./learning_progress\system_4_progress.json
RESUMEN SISTEMA 4:
  Mejora en recompensa: 698.10
  Mejora en satisfacción: 1.3%
  Satisfacción final: 12.9%
  Ratio asignación final: 20.2%

RESUMEN SISTEMA 4:
   Tiempo total: 0.2 minutos
   Recompensa promedio: -7048.49
   Mejor métrica combinada: -5861.26
   Satisfacción promedio: 11.6%
   Mejor satisfacción: 16.3%
   Episodios completados: 16
   Epsilon final: 0.2484


============================================================
SISTEMA 5 (5/17)
============================================================
Info del sistema: 21 vehículos, 60 plazas, 25 cargadores
Creando entorno para sistema 5...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 5)
   Epsilon actual: 0.2484
   Memoria: 6537/12000
   Procesando 21 vehículos...      Acción aleatoria: 4 (epsilon: 0.248)
 95% Completado
Episodio 1 completado:
   Recompensa: 1954.74 (promedio últimos 3: 1954.74)
   Satisfacción energética: 89.8% (promedio últimos 3: 89.8%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 2044.51

Episodio 2/25 (Sistema 5)
   Epsilon actual: 0.2450
   Memoria: 6558/12000
   Procesando 21 vehículos...      Acción DQN: 5 (Q-value: 1736.225)
 95% Completado
Episodio 2 completado:
   Recompensa: 2087.65 (promedio últimos 3: 2087.65)
   Satisfacción energética: 88.6% (promedio últimos 3: 88.6%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 2176.28

Episodio 3/25 (Sistema 5)
   Epsilon actual: 0.2416
   Memoria: 6579/12000
   Procesando 21 vehículos...      Acción DQN: 5 (Q-value: 1672.824)
 95% Completado
Episodio 3 completado:
   Recompensa: 2173.66 (promedio últimos 3: 2072.02)
   Satisfacción energética: 90.9% (promedio últimos 3: 89.8%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 2264.60
ETA: 0.5 minutos restantes

Episodio 4/25 (Sistema 5)
   Epsilon actual: 0.2382
   Memoria: 6600/12000
   Procesando 21 vehículos...      Acción aleatoria: 8 (epsilon: 0.238)
 95% Completado
Episodio 4 completado:
   Recompensa: 2154.74 (promedio últimos 3: 2138.68)
   Satisfacción energética: 86.3% (promedio últimos 3: 88.6%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 0.5 minutos restantes

Episodio 5/25 (Sistema 5)
   Epsilon actual: 0.2349
   Memoria: 6621/12000
   Procesando 21 vehículos...      Acción aleatoria: 0 (epsilon: 0.235)
 95% Completado
Episodio 5 completado:
   Recompensa: 2140.29 (promedio últimos 3: 2156.23)
   Satisfacción energética: 88.5% (promedio últimos 3: 88.6%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_4_ep_5.h5
Sin mejora. Paciencia: 2/8
ETA: 0.5 minutos restantes

Episodio 6/25 (Sistema 5)
   Epsilon actual: 0.2316
   Memoria: 6642/12000
   Procesando 21 vehículos...      Acción DQN: 5 (Q-value: 1640.710)
 95% Completado
Episodio 6 completado:
   Recompensa: 2156.81 (promedio últimos 3: 2150.62)
   Satisfacción energética: 90.3% (promedio últimos 3: 88.4%)
   Vehículos asignados: 20/21 (95.2%)
   Vehículos saltados: 1/21 (4.8%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 0.5 minutos restantes

Episodio 7/25 (Sistema 5)
   Epsilon actual: 0.2284
   Memoria: 6663/12000
   Procesando 21 vehículos...      Acción DQN: 5 (Q-value: 1679.893)
 95% Completado
Episodio 7 completado:
   Recompensa: 2095.71 (promedio últimos 3: 2130.94)
   Satisfacción energética: 88.2% (promedio últimos 3: 89.0%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 0.6 minutos restantes

Episodio 8/25 (Sistema 5)
   Epsilon actual: 0.2252
   Memoria: 6684/12000
   Procesando 21 vehículos...      Acción DQN: 5 (Q-value: 1555.167)
 95% Completado
Episodio 8 completado:
   Recompensa: 2066.96 (promedio últimos 3: 2106.49)
   Satisfacción energética: 87.5% (promedio últimos 3: 88.6%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 0.6 minutos restantes

Episodio 9/25 (Sistema 5)
   Epsilon actual: 0.2221
   Memoria: 6705/12000
   Procesando 21 vehículos...      Acción aleatoria: 1 (epsilon: 0.222)
 95% Completado
Episodio 9 completado:
   Recompensa: 1977.50 (promedio últimos 3: 2046.72)
   Satisfacción energética: 88.0% (promedio últimos 3: 87.9%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 0.6 minutos restantes

Episodio 10/25 (Sistema 5)
   Epsilon actual: 0.2190
   Memoria: 6726/12000
   Procesando 21 vehículos...      Acción DQN: 1 (Q-value: 1465.147)
 95% Completado
Episodio 10 completado:
   Recompensa: 1780.55 (promedio últimos 3: 1941.67)
   Satisfacción energética: 85.3% (promedio últimos 3: 86.9%)
   Vehículos asignados: 20/21 (95.2%)
   Vehículos saltados: 1/21 (4.8%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_4_ep_10.h5
Sin mejora. Paciencia: 7/8
ETA: 0.5 minutos restantes

Episodio 11/25 (Sistema 5)
   Epsilon actual: 0.2159
   Memoria: 6747/12000
   Procesando 21 vehículos...      Acción aleatoria: 6 (epsilon: 0.216)
 95% Completado
Episodio 11 completado:
   Recompensa: 1941.83 (promedio últimos 3: 1899.96)
   Satisfacción energética: 89.5% (promedio últimos 3: 87.6%)
   Vehículos asignados: 21/21 (100.0%)
   Vehículos saltados: 0/21 (0.0%)
   Tiempo: 0.1s
   Pasos: 21
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_4.h5
Progreso del sistema 5 guardado en: ./learning_progress\system_5_progress.json
RESUMEN SISTEMA 5:
  Mejora en recompensa: -12.91
  Mejora en satisfacción: -0.2%
  Satisfacción final: 89.5%
  Ratio asignación final: 100.0%

RESUMEN SISTEMA 5:
   Tiempo total: 0.0 minutos
   Recompensa promedio: 2048.22
   Mejor métrica combinada: 2264.60
   Satisfacción promedio: 88.4%
   Mejor satisfacción: 90.9%
   Episodios completados: 11
   Epsilon final: 0.2382


============================================================
SISTEMA 6 (6/17)
============================================================
Info del sistema: 217 vehículos, 30 plazas, 22 cargadores
Creando entorno para sistema 6...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 6)
   Epsilon actual: 0.2382
   Memoria: 6768/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 819.503)
 9% 18%      Acción DQN: 0 (Q-value: 354.787)
 28% 37% 46%      Acción DQN: 1 (Q-value: 365.285)
 55% 65%      Acción aleatoria: 0 (epsilon: 0.231)
 74% 83% 92%      Acción aleatoria: 0 (epsilon: 0.229)
 Completado
Episodio 1 completado:
   Recompensa: -6480.33 (promedio últimos 3: -6480.33)
   Satisfacción energética: 19.6% (promedio últimos 3: 19.6%)
   Vehículos asignados: 47/217 (21.7%)
   Vehículos saltados: 169/217 (77.9%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6460.69

Episodio 2/25 (Sistema 6)
   Epsilon actual: 0.2261
   Memoria: 6984/12000
   Procesando 217 vehículos...      Acción aleatoria: 1 (epsilon: 0.226)
 9% 18%      Acción aleatoria: 0 (epsilon: 0.224)
 28% 37% 46%      Acción DQN: 1 (Q-value: 357.591)
 55% 65%      Acción aleatoria: 0 (epsilon: 0.219)
 74% 83% 92%      Acción aleatoria: 0 (epsilon: 0.217)
 Completado
Episodio 2 completado:
   Recompensa: -6421.28 (promedio últimos 3: -6421.28)
   Satisfacción energética: 18.2% (promedio últimos 3: 18.2%)
   Vehículos asignados: 45/217 (20.7%)
   Vehículos saltados: 171/217 (78.8%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6403.03

Episodio 3/25 (Sistema 6)
   Epsilon actual: 0.2146
   Memoria: 7200/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 806.292)
 9% 18%      Acción DQN: 1 (Q-value: 381.761)
 28% 37% 46%      Acción aleatoria: 2 (epsilon: 0.210)
 55% 65%      Acción DQN: 0 (Q-value: 162.100)
 74% 83% 92%      Acción DQN: 0 (Q-value: 94.478)
 Completado
Episodio 3 completado:
   Recompensa: -6034.85 (promedio últimos 3: -6312.15)
   Satisfacción energética: 20.2% (promedio últimos 3: 19.4%)
   Vehículos asignados: 48/217 (22.1%)
   Vehículos saltados: 168/217 (77.4%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6014.65
ETA: 3.4 minutos restantes

Episodio 4/25 (Sistema 6)
   Epsilon actual: 0.2038
   Memoria: 7416/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 835.117)
 9% 18%      Acción aleatoria: 0 (epsilon: 0.202)
 28% 37% 46%      Acción DQN: 1 (Q-value: 308.883)
 55% 65%      Acción aleatoria: 0 (epsilon: 0.198)
 74% 83% 92%      Acción DQN: 0 (Q-value: 62.647)
 Completado
Episodio 4 completado:
   Recompensa: -7084.72 (promedio últimos 3: -6513.62)
   Satisfacción energética: 15.5% (promedio últimos 3: 18.0%)
   Vehículos asignados: 39/217 (18.0%)
   Vehículos saltados: 177/217 (81.6%)
   Tiempo: 0.6s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 3.3 minutos restantes

Episodio 5/25 (Sistema 6)
   Epsilon actual: 0.1934
   Memoria: 7632/12000
   Procesando 217 vehículos...      Acción aleatoria: 0 (epsilon: 0.193)
 9% 18%      Acción aleatoria: 0 (epsilon: 0.191)
 28% 37% 46%      Acción DQN: 0 (Q-value: 151.971)
 55% 65%      Acción DQN: 0 (Q-value: 133.437)
 74% 83% 92%      Acción DQN: 0 (Q-value: 61.428)
 Completado
Episodio 5 completado:
   Recompensa: -6909.88 (promedio últimos 3: -6676.48)
   Satisfacción energética: 19.6% (promedio últimos 3: 18.4%)
   Vehículos asignados: 45/217 (20.7%)
   Vehículos saltados: 171/217 (78.8%)
   Tiempo: 0.6s
   Pasos: 216
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_5_ep_5.h5
Sin mejora. Paciencia: 2/8
ETA: 3.2 minutos restantes

Episodio 6/25 (Sistema 6)
   Epsilon actual: 0.1836
   Memoria: 7848/12000
   Procesando 217 vehículos...      Acción aleatoria: 4 (epsilon: 0.184)
 9% 18%      Acción aleatoria: 0 (epsilon: 0.182)
 28% 37% 46%      Acción DQN: 0 (Q-value: 256.087)
 55% 65%      Acción DQN: 0 (Q-value: 183.421)
 74% 83% 92%      Acción aleatoria: 0 (epsilon: 0.176)
 Completado
Episodio 6 completado:
   Recompensa: -7045.80 (promedio últimos 3: -7013.47)
   Satisfacción energética: 17.3% (promedio últimos 3: 17.4%)
   Vehículos asignados: 42/217 (19.4%)
   Vehículos saltados: 174/217 (80.2%)
   Tiempo: 0.8s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 3.3 minutos restantes

Episodio 7/25 (Sistema 6)
   Epsilon actual: 0.1743
   Memoria: 8064/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 769.459)
 9% 18%      Acción DQN: 0 (Q-value: 390.819)
 28% 37% 46%      Acción DQN: 1 (Q-value: 399.614)
 55% 65%      Acción DQN: 0 (Q-value: 210.716)
 74% 83% 92%      Acción DQN: 0 (Q-value: 66.928)
 Completado
Episodio 7 completado:
   Recompensa: -8961.40 (promedio últimos 3: -7639.03)
   Satisfacción energética: 11.7% (promedio últimos 3: 16.2%)
   Vehículos asignados: 27/217 (12.4%)
   Vehículos saltados: 189/217 (87.1%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 3.4 minutos restantes

Episodio 8/25 (Sistema 6)
   Epsilon actual: 0.1655
   Memoria: 8280/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 834.111)
 9% 18%      Acción DQN: 0 (Q-value: 439.651)
 28% 37% 46%      Acción DQN: 1 (Q-value: 362.188)
 55% 65%      Acción DQN: 0 (Q-value: 218.072)
 74% 83% 92%      Acción DQN: 0 (Q-value: 116.670)
 Completado
Episodio 8 completado:
   Recompensa: -8961.40 (promedio últimos 3: -8322.87)
   Satisfacción energética: 11.7% (promedio últimos 3: 13.6%)
   Vehículos asignados: 27/217 (12.4%)
   Vehículos saltados: 189/217 (87.1%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 3.6 minutos restantes

Episodio 9/25 (Sistema 6)
   Epsilon actual: 0.1571
   Memoria: 8496/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 846.223)
 9% 18%      Acción DQN: 0 (Q-value: 503.924)
 28% 37% 46%      Acción aleatoria: 0 (epsilon: 0.154)
 55% 65%      Acción DQN: 0 (Q-value: 216.407)
 74% 83% 92%      Acción aleatoria: 0 (epsilon: 0.151)
 Completado
Episodio 9 completado:
   Recompensa: -7930.85 (promedio últimos 3: -8617.88)
   Satisfacción energética: 13.1% (promedio últimos 3: 12.2%)
   Vehículos asignados: 36/217 (16.6%)
   Vehículos saltados: 180/217 (82.9%)
   Tiempo: 0.7s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 3.4 minutos restantes

Episodio 10/25 (Sistema 6)
   Epsilon actual: 0.1491
   Memoria: 8712/12000
   Procesando 217 vehículos...      Acción DQN: 5 (Q-value: 935.264)
 9% 18%      Acción DQN: 0 (Q-value: 520.622)
 28% 37% 46%      Acción DQN: 1 (Q-value: 383.363)
 55% 65%      Acción DQN: 0 (Q-value: 275.493)
 74% 83% 92%      Acción DQN: 0 (Q-value: 144.013)
 Completado
Episodio 10 completado:
   Recompensa: -6549.81 (promedio últimos 3: -7814.02)
   Satisfacción energética: 19.7% (promedio últimos 3: 14.8%)
   Vehículos asignados: 46/217 (21.2%)
   Vehículos saltados: 170/217 (78.3%)
   Tiempo: 0.8s
   Pasos: 216
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_5_ep_10.h5
Sin mejora. Paciencia: 7/8
ETA: 3.5 minutos restantes

Episodio 11/25 (Sistema 6)
   Epsilon actual: 0.1415
   Memoria: 8928/12000
   Procesando 217 vehículos...      Acción aleatoria: 4 (epsilon: 0.142)
 9% 18%      Acción DQN: 0 (Q-value: 462.880)
 28% 37% 46%      Acción DQN: 0 (Q-value: 325.709)
 55% 65%      Acción DQN: 0 (Q-value: 258.713)
 74% 83% 92%      Acción DQN: 0 (Q-value: 142.819)
 Completado
Episodio 11 completado:
   Recompensa: -7202.36 (promedio últimos 3: -7227.67)
   Satisfacción energética: 17.7% (promedio últimos 3: 16.8%)
   Vehículos asignados: 43/217 (19.8%)
   Vehículos saltados: 173/217 (79.7%)
   Tiempo: 0.9s
   Pasos: 216
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_5.h5
Progreso del sistema 6 guardado en: ./learning_progress\system_6_progress.json
RESUMEN SISTEMA 6:
  Mejora en recompensa: -722.03
  Mejora en satisfacción: -1.9%
  Satisfacción final: 17.7%
  Ratio asignación final: 19.8%

RESUMEN SISTEMA 6:
   Tiempo total: 0.2 minutos
   Recompensa promedio: -7234.79
   Mejor métrica combinada: -6014.65
   Satisfacción promedio: 16.8%
   Mejor satisfacción: 20.2%
   Episodios completados: 11
   Epsilon final: 0.2038


============================================================
SISTEMA 7 (7/17)
============================================================
Info del sistema: 75 vehículos, 20 plazas, 10 cargadores
Creando entorno para sistema 7...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 7)
   Epsilon actual: 0.2038
   Memoria: 9144/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1691.512)
 27% 53%      Acción aleatoria: 0 (epsilon: 0.202)
 80% Completado
Episodio 1 completado:
   Recompensa: 628.17 (promedio últimos 3: 628.17)
   Satisfacción energética: 26.3% (promedio últimos 3: 26.3%)
   Vehículos asignados: 29/75 (38.7%)
   Vehículos saltados: 46/75 (61.3%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 654.51

Episodio 2/25 (Sistema 7)
   Epsilon actual: 0.1989
   Memoria: 9219/12000
   Procesando 75 vehículos...      Acción aleatoria: 1 (epsilon: 0.199)
 27% 53%      Acción DQN: 0 (Q-value: 665.904)
 80% Completado
Episodio 2 completado:
   Recompensa: 694.98 (promedio últimos 3: 694.98)
   Satisfacción energética: 25.5% (promedio últimos 3: 25.5%)
   Vehículos asignados: 29/75 (38.7%)
   Vehículos saltados: 46/75 (61.3%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 720.50

Episodio 3/25 (Sistema 7)
   Epsilon actual: 0.1942
   Memoria: 9294/12000
   Procesando 75 vehículos...      Acción aleatoria: 2 (epsilon: 0.194)
 27% 53%      Acción DQN: 0 (Q-value: 627.696)
 80% Completado
Episodio 3 completado:
   Recompensa: 766.84 (promedio últimos 3: 696.67)
   Satisfacción energética: 26.6% (promedio últimos 3: 26.2%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 793.49
ETA: 1.2 minutos restantes

Episodio 4/25 (Sistema 7)
   Epsilon actual: 0.1896
   Memoria: 9369/12000
   Procesando 75 vehículos...      Acción aleatoria: 3 (epsilon: 0.190)
 27% 53%      Acción DQN: 0 (Q-value: 633.178)
 80% Completado
Episodio 4 completado:
   Recompensa: 680.05 (promedio últimos 3: 713.96)
   Satisfacción energética: 24.3% (promedio últimos 3: 25.5%)
   Vehículos asignados: 29/75 (38.7%)
   Vehículos saltados: 46/75 (61.3%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.1 minutos restantes

Episodio 5/25 (Sistema 7)
   Epsilon actual: 0.1851
   Memoria: 9444/12000
   Procesando 75 vehículos...      Acción aleatoria: 1 (epsilon: 0.185)
 27% 53%      Acción DQN: 0 (Q-value: 634.789)
 80% Completado
Episodio 5 completado:
   Recompensa: 750.84 (promedio últimos 3: 732.58)
   Satisfacción energética: 26.0% (promedio últimos 3: 25.6%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_6_ep_5.h5
Sin mejora. Paciencia: 2/8
ETA: 1.2 minutos restantes

Episodio 6/25 (Sistema 7)
   Epsilon actual: 0.1807
   Memoria: 9519/12000
   Procesando 75 vehículos...      Acción aleatoria: 1 (epsilon: 0.181)
 27% 53%      Acción DQN: 0 (Q-value: 679.961)
 80% Completado
Episodio 6 completado:
   Recompensa: 850.30 (promedio últimos 3: 760.40)
   Satisfacción energética: 24.7% (promedio últimos 3: 25.0%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 875.02
ETA: 1.1 minutos restantes

Episodio 7/25 (Sistema 7)
   Epsilon actual: 0.1764
   Memoria: 9594/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1421.258)
 27% 53%      Acción DQN: 0 (Q-value: 594.833)
 80% Completado
Episodio 7 completado:
   Recompensa: 766.32 (promedio últimos 3: 789.15)
   Satisfacción energética: 25.5% (promedio últimos 3: 25.4%)
   Vehículos asignados: 29/75 (38.7%)
   Vehículos saltados: 46/75 (61.3%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.1 minutos restantes

Episodio 8/25 (Sistema 7)
   Epsilon actual: 0.1722
   Memoria: 9669/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1590.688)
 27% 53%      Acción DQN: 0 (Q-value: 693.831)
 80% Completado
Episodio 8 completado:
   Recompensa: 791.77 (promedio últimos 3: 802.80)
   Satisfacción energética: 25.5% (promedio últimos 3: 25.2%)
   Vehículos asignados: 31/75 (41.3%)
   Vehículos saltados: 44/75 (58.7%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.0 minutos restantes

Episodio 9/25 (Sistema 7)
   Epsilon actual: 0.1681
   Memoria: 9744/12000
   Procesando 75 vehículos...      Acción DQN: 2 (Q-value: 1709.622)
 27% 53%      Acción DQN: 0 (Q-value: 630.053)
 80% Completado
Episodio 9 completado:
   Recompensa: 709.48 (promedio últimos 3: 755.86)
   Satisfacción energética: 25.5% (promedio últimos 3: 25.5%)
   Vehículos asignados: 28/75 (37.3%)
   Vehículos saltados: 47/75 (62.7%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 1.1 minutos restantes

Episodio 10/25 (Sistema 7)
   Epsilon actual: 0.1641
   Memoria: 9819/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1605.693)
 27% 53%      Acción aleatoria: 0 (epsilon: 0.163)
 80% Completado
Episodio 10 completado:
   Recompensa: 750.84 (promedio últimos 3: 750.70)
   Satisfacción energética: 26.0% (promedio últimos 3: 25.7%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_6_ep_10.h5
Sin mejora. Paciencia: 4/8
ETA: 1.1 minutos restantes

Episodio 11/25 (Sistema 7)
   Epsilon actual: 0.1602
   Memoria: 9894/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1633.485)
 27% 53%      Acción DQN: 0 (Q-value: 693.263)
 80% Completado
Episodio 11 completado:
   Recompensa: 753.71 (promedio últimos 3: 738.01)
   Satisfacción energética: 26.2% (promedio últimos 3: 25.9%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 1.0 minutos restantes

Episodio 12/25 (Sistema 7)
   Epsilon actual: 0.1564
   Memoria: 9969/12000
   Procesando 75 vehículos...      Acción DQN: 2 (Q-value: 1715.737)
 27% 53%      Acción DQN: 0 (Q-value: 633.428)
 80% Completado
Episodio 12 completado:
   Recompensa: 750.84 (promedio últimos 3: 751.80)
   Satisfacción energética: 26.0% (promedio últimos 3: 26.1%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 1.0 minutos restantes

Episodio 13/25 (Sistema 7)
   Epsilon actual: 0.1527
   Memoria: 10044/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1479.020)
 27% 53%      Acción aleatoria: 0 (epsilon: 0.151)
 80% Completado
Episodio 13 completado:
   Recompensa: 717.97 (promedio últimos 3: 740.84)
   Satisfacción energética: 26.4% (promedio últimos 3: 26.2%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.3s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 1.0 minutos restantes

Episodio 14/25 (Sistema 7)
   Epsilon actual: 0.1491
   Memoria: 10119/12000
   Procesando 75 vehículos...      Acción DQN: 1 (Q-value: 1540.729)
 27% 53%      Acción DQN: 0 (Q-value: 562.365)
 80% Completado
Episodio 14 completado:
   Recompensa: 750.84 (promedio últimos 3: 739.88)
   Satisfacción energética: 26.0% (promedio últimos 3: 26.2%)
   Vehículos asignados: 30/75 (40.0%)
   Vehículos saltados: 45/75 (60.0%)
   Tiempo: 0.2s
   Pasos: 75
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_6.h5
Progreso del sistema 7 guardado en: ./learning_progress\system_7_progress.json
RESUMEN SISTEMA 7:
  Mejora en recompensa: 122.67
  Mejora en satisfacción: -0.3%
  Satisfacción final: 26.0%
  Ratio asignación final: 40.0%

RESUMEN SISTEMA 7:
   Tiempo total: 0.1 minutos
   Recompensa promedio: 740.21
   Mejor métrica combinada: 875.02
   Satisfacción promedio: 25.8%
   Mejor satisfacción: 26.6%
   Episodios completados: 14
   Epsilon final: 0.1764


============================================================
SISTEMA 8 (8/17)
============================================================
Info del sistema: 286 vehículos, 50 plazas, 38 cargadores
Creando entorno para sistema 8...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 8)
   Epsilon actual: 0.1764
   Memoria: 10194/12000
   Procesando 286 vehículos...      Acción aleatoria: 12 (epsilon: 0.176)
 7% 14%      Acción DQN: 0 (Q-value: 589.515)
 21% 28% 35%      Acción DQN: 0 (Q-value: 591.363)
 42% 49%      Acción DQN: 0 (Q-value: 449.750)
 56% 63% 70%      Acción DQN: 0 (Q-value: 400.869)
 77% 84%      Acción DQN: 1 (Q-value: 266.805)
 91% 98% Completado
Episodio 1 completado:
   Recompensa: -9286.43 (promedio últimos 3: -9286.43)
   Satisfacción energética: 17.7% (promedio últimos 3: 17.7%)
   Vehículos asignados: 59/286 (20.6%)
   Vehículos saltados: 226/286 (79.0%)
   Tiempo: 1.2s
   Pasos: 285
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -9268.69

Episodio 2/25 (Sistema 8)
   Epsilon actual: 0.1651
   Memoria: 10479/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 961.851)
 7% 14%      Acción DQN: 0 (Q-value: 658.675)
 21% 28% 35%      Acción DQN: 1 (Q-value: 699.994)
 42% 49%      Acción DQN: 5 (Q-value: 457.358)
 56% 63% 70%      Acción DQN: 0 (Q-value: 329.165)
 77% 84%      Acción DQN: 1 (Q-value: 278.281)
 91% 98% Completado
Episodio 2 completado:
   Recompensa: -6946.76 (promedio últimos 3: -6946.76)
   Satisfacción energética: 23.9% (promedio últimos 3: 23.9%)
   Vehículos asignados: 78/286 (27.3%)
   Vehículos saltados: 207/286 (72.4%)
   Tiempo: 1.4s
   Pasos: 285
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6922.83

Episodio 3/25 (Sistema 8)
   Epsilon actual: 0.1546
   Memoria: 10764/12000
   Procesando 286 vehículos...      Acción aleatoria: 2 (epsilon: 0.155)
 7% 14%      Acción DQN: 0 (Q-value: 629.318)
 21% 28% 35%      Acción DQN: 0 (Q-value: 606.557)
 42% 49%      Acción aleatoria: 0 (epsilon: 0.150)
 56% 63% 70%      Acción aleatoria: 0 (epsilon: 0.149)
 77% 84%      Acción DQN: 1 (Q-value: 300.941)
 91% 98% Completado
Episodio 3 completado:
   Recompensa: -8723.36 (promedio últimos 3: -8318.85)
   Satisfacción energética: 19.3% (promedio últimos 3: 20.3%)
   Vehículos asignados: 66/286 (23.1%)
   Vehículos saltados: 219/286 (76.6%)
   Tiempo: 1.1s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 5.1 minutos restantes

Episodio 4/25 (Sistema 8)
   Epsilon actual: 0.1447
   Memoria: 11049/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 917.521)
 7% 14%      Acción aleatoria: 0 (epsilon: 0.143)
 21% 28% 35%      Acción aleatoria: 2 (epsilon: 0.142)
 42% 49%      Acción DQN: 5 (Q-value: 561.309)
 56% 63% 70%      Acción DQN: 0 (Q-value: 455.980)
 77% 84%      Acción DQN: 5 (Q-value: 272.817)
 91% 98% Completado
Episodio 4 completado:
   Recompensa: -6192.51 (promedio últimos 3: -7287.54)
   Satisfacción energética: 25.1% (promedio últimos 3: 22.8%)
   Vehículos asignados: 83/286 (29.0%)
   Vehículos saltados: 202/286 (70.6%)
   Tiempo: 1.0s
   Pasos: 285
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6167.38
ETA: 4.8 minutos restantes

Episodio 5/25 (Sistema 8)
   Epsilon actual: 0.1354
   Memoria: 11334/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 922.814)
 7% 14%      Acción DQN: 0 (Q-value: 698.636)
 21% 28% 35%      Acción DQN: 0 (Q-value: 709.864)
 42% 49%      Acción DQN: 0 (Q-value: 459.694)
 56% 63% 70%      Acción DQN: 0 (Q-value: 374.703)
 77% 84%      Acción DQN: 1 (Q-value: 273.830)
 91% 98% Completado
Episodio 5 completado:
   Recompensa: -9693.43 (promedio últimos 3: -8203.10)
   Satisfacción energética: 17.1% (promedio últimos 3: 20.5%)
   Vehículos asignados: 60/286 (21.0%)
   Vehículos saltados: 225/286 (78.7%)
   Tiempo: 1.1s
   Pasos: 285
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_7_ep_5.h5
Sin mejora. Paciencia: 1/8
ETA: 4.3 minutos restantes

Episodio 6/25 (Sistema 8)
   Epsilon actual: 0.1268
   Memoria: 11619/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1087.472)
 7% 14%      Acción DQN: 0 (Q-value: 697.258)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.124)
 42% 49%      Acción DQN: 5 (Q-value: 501.052)
 56% 63% 70%      Acción DQN: 5 (Q-value: 527.401)
 77% 84%      Acción aleatoria: 3 (epsilon: 0.121)
 91% 98% Completado
Episodio 6 completado:
   Recompensa: -6987.84 (promedio últimos 3: -7624.59)
   Satisfacción energética: 25.3% (promedio últimos 3: 22.5%)
   Vehículos asignados: 77/286 (26.9%)
   Vehículos saltados: 208/286 (72.7%)
   Tiempo: 1.2s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 4.5 minutos restantes

Episodio 7/25 (Sistema 8)
   Epsilon actual: 0.1187
   Memoria: 11904/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1027.814)
 7% 14%      Acción DQN: 0 (Q-value: 677.472)
 21% 28% 35%      Acción DQN: 0 (Q-value: 664.048)
 42% 49%      Acción DQN: 5 (Q-value: 607.236)
 56% 63% 70%      Acción DQN: 0 (Q-value: 496.913)
 77% 84%      Acción DQN: 1 (Q-value: 359.395)
 91% 98% Completado
Episodio 7 completado:
   Recompensa: -7422.64 (promedio últimos 3: -8034.64)
   Satisfacción energética: 23.6% (promedio últimos 3: 22.0%)
   Vehículos asignados: 72/286 (25.2%)
   Vehículos saltados: 213/286 (74.5%)
   Tiempo: 1.1s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 4.5 minutos restantes

Episodio 8/25 (Sistema 8)
   Epsilon actual: 0.1111
   Memoria: 12000/12000
   Procesando 286 vehículos...      Acción aleatoria: 3 (epsilon: 0.111)
 7% 14%      Acción aleatoria: 0 (epsilon: 0.110)
 21% 28% 35%      Acción DQN: 0 (Q-value: 691.788)
 42% 49%      Acción DQN: 0 (Q-value: 476.940)
 56% 63% 70%      Acción aleatoria: 0 (epsilon: 0.107)
 77% 84%      Acción DQN: 1 (Q-value: 307.573)
 91% 98% Completado
Episodio 8 completado:
   Recompensa: -9532.68 (promedio últimos 3: -7981.06)
   Satisfacción energética: 15.7% (promedio últimos 3: 21.5%)
   Vehículos asignados: 57/286 (19.9%)
   Vehículos saltados: 228/286 (79.7%)
   Tiempo: 1.0s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 4.3 minutos restantes

Episodio 9/25 (Sistema 8)
   Epsilon actual: 0.1040
   Memoria: 12000/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1152.590)
 7% 14%      Acción DQN: 0 (Q-value: 711.662)
 21% 28% 35%      Acción DQN: 0 (Q-value: 669.652)
 42% 49%      Acción DQN: 5 (Q-value: 642.041)
 56% 63% 70%      Acción DQN: 0 (Q-value: 551.173)
 77% 84%      Acción DQN: 1 (Q-value: 399.240)
 91% 98% Completado
Episodio 9 completado:
   Recompensa: -7294.66 (promedio últimos 3: -8083.33)
   Satisfacción energética: 24.2% (promedio últimos 3: 21.2%)
   Vehículos asignados: 73/286 (25.5%)
   Vehículos saltados: 212/286 (74.1%)
   Tiempo: 1.1s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 4.2 minutos restantes

Episodio 10/25 (Sistema 8)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1230.688)
 7% 14%      Acción DQN: 0 (Q-value: 810.711)
 21% 28% 35%      Acción DQN: 0 (Q-value: 725.365)
 42% 49%      Acción DQN: 5 (Q-value: 662.025)
 56% 63% 70%      Acción DQN: 0 (Q-value: 543.152)
 77% 84%      Acción DQN: 5 (Q-value: 433.986)
 91% 98% Completado
Episodio 10 completado:
   Recompensa: -6903.14 (promedio últimos 3: -7910.16)
   Satisfacción energética: 24.8% (promedio últimos 3: 21.6%)
   Vehículos asignados: 76/286 (26.6%)
   Vehículos saltados: 209/286 (73.1%)
   Tiempo: 1.1s
   Pasos: 285
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_7_ep_10.h5
Sin mejora. Paciencia: 6/8
ETA: 4.2 minutos restantes

Episodio 11/25 (Sistema 8)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1256.640)
 7% 14%      Acción DQN: 0 (Q-value: 898.854)
 21% 28% 35%      Acción DQN: 1 (Q-value: 939.269)
 42% 49%      Acción DQN: 0 (Q-value: 596.428)
 56% 63% 70%      Acción DQN: 0 (Q-value: 532.252)
 77% 84%      Acción DQN: 0 (Q-value: 352.244)
 91% 98% Completado
Episodio 11 completado:
   Recompensa: -7013.23 (promedio últimos 3: -7070.34)
   Satisfacción energética: 22.8% (promedio últimos 3: 23.9%)
   Vehículos asignados: 79/286 (27.6%)
   Vehículos saltados: 206/286 (72.0%)
   Tiempo: 1.3s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 4.6 minutos restantes

Episodio 12/25 (Sistema 8)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 286 vehículos...      Acción DQN: 5 (Q-value: 1387.558)
 7% 14%      Acción DQN: 0 (Q-value: 889.720)
 21% 28% 35%      Acción DQN: 0 (Q-value: 789.550)
 42% 49%      Acción DQN: 5 (Q-value: 712.345)
 56% 63% 70%      Acción DQN: 0 (Q-value: 595.052)
 77% 84%      Acción DQN: 1 (Q-value: 492.587)
 91% 98% Completado
Episodio 12 completado:
   Recompensa: -7625.46 (promedio últimos 3: -7180.61)
   Satisfacción energética: 23.2% (promedio últimos 3: 23.6%)
   Vehículos asignados: 69/286 (24.1%)
   Vehículos saltados: 216/286 (75.5%)
   Tiempo: 1.3s
   Pasos: 285
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_7.h5
Progreso del sistema 8 guardado en: ./learning_progress\system_8_progress.json
RESUMEN SISTEMA 8:
  Mejora en recompensa: 1660.96
  Mejora en satisfacción: 5.4%
  Satisfacción final: 23.2%
  Ratio asignación final: 24.1%

RESUMEN SISTEMA 8:
   Tiempo total: 0.3 minutos
   Recompensa promedio: -7801.85
   Mejor métrica combinada: -6167.38
   Satisfacción promedio: 21.9%
   Mejor satisfacción: 25.3%
   Episodios completados: 12
   Epsilon final: 0.1354


============================================================
SISTEMA 9 (9/17)
============================================================
Info del sistema: 72 vehículos, 40 plazas, 27 cargadores
Creando entorno para sistema 9...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 9)
   Epsilon actual: 0.1354
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1461.997)
 28% 56%      Acción aleatoria: 0 (epsilon: 0.134)
 83% Completado
Episodio 1 completado:
   Recompensa: 434.93 (promedio últimos 3: 434.93)
   Satisfacción energética: 21.1% (promedio últimos 3: 21.1%)
   Vehículos asignados: 22/72 (30.6%)
   Vehículos saltados: 49/72 (68.1%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 456.02

Episodio 2/25 (Sistema 9)
   Epsilon actual: 0.1322
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1588.932)
 28% 56%      Acción DQN: 1 (Q-value: 769.749)
 83% Completado
Episodio 2 completado:
   Recompensa: 442.70 (promedio últimos 3: 442.70)
   Satisfacción energética: 20.7% (promedio últimos 3: 20.7%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 463.42

Episodio 3/25 (Sistema 9)
   Epsilon actual: 0.1291
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1727.000)
 28% 56%      Acción aleatoria: 2 (epsilon: 0.128)
 83% Completado
Episodio 3 completado:
   Recompensa: 442.70 (promedio últimos 3: 440.11)
   Satisfacción energética: 20.7% (promedio últimos 3: 20.8%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.1 minutos restantes

Episodio 4/25 (Sistema 9)
   Epsilon actual: 0.1260
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1560.988)
 28% 56%      Acción DQN: 0 (Q-value: 659.878)
 83% Completado
Episodio 4 completado:
   Recompensa: 365.49 (promedio últimos 3: 416.96)
   Satisfacción energética: 21.5% (promedio últimos 3: 21.0%)
   Vehículos asignados: 20/72 (27.8%)
   Vehículos saltados: 51/72 (70.8%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.0 minutos restantes

Episodio 5/25 (Sistema 9)
   Epsilon actual: 0.1230
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1736.550)
 28% 56%      Acción DQN: 1 (Q-value: 753.596)
 83% Completado
Episodio 5 completado:
   Recompensa: 427.62 (promedio últimos 3: 411.93)
   Satisfacción energética: 23.0% (promedio últimos 3: 21.7%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_8_ep_5.h5
Sin mejora. Paciencia: 3/8
ETA: 1.1 minutos restantes

Episodio 6/25 (Sistema 9)
   Epsilon actual: 0.1201
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1589.539)
 28% 56%      Acción DQN: 1 (Q-value: 657.729)
 83% Completado
Episodio 6 completado:
   Recompensa: 599.14 (promedio últimos 3: 464.08)
   Satisfacción energética: 25.4% (promedio últimos 3: 23.3%)
   Vehículos asignados: 23/72 (31.9%)
   Vehículos saltados: 48/72 (66.7%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 624.57
ETA: 1.1 minutos restantes

Episodio 7/25 (Sistema 9)
   Epsilon actual: 0.1173
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1671.436)
 28% 56%      Acción DQN: 1 (Q-value: 683.438)
 83% Completado
Episodio 7 completado:
   Recompensa: 971.27 (promedio últimos 3: 666.01)
   Satisfacción energética: 25.1% (promedio últimos 3: 24.5%)
   Vehículos asignados: 27/72 (37.5%)
   Vehículos saltados: 44/72 (61.1%)
   Tiempo: 0.4s
   Pasos: 71
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 996.41
ETA: 1.2 minutos restantes

Episodio 8/25 (Sistema 9)
   Epsilon actual: 0.1145
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1570.450)
 28% 56%      Acción DQN: 1 (Q-value: 739.784)
 83% Completado
Episodio 8 completado:
   Recompensa: 442.70 (promedio últimos 3: 671.04)
   Satisfacción energética: 20.7% (promedio últimos 3: 23.8%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 1.2 minutos restantes

Episodio 9/25 (Sistema 9)
   Epsilon actual: 0.1118
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1658.184)
 28% 56%      Acción DQN: 1 (Q-value: 787.438)
 83% Completado
Episodio 9 completado:
   Recompensa: 442.70 (promedio últimos 3: 618.89)
   Satisfacción energética: 20.7% (promedio últimos 3: 22.2%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.2 minutos restantes

Episodio 10/25 (Sistema 9)
   Epsilon actual: 0.1091
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1461.774)
 28% 56%      Acción DQN: 1 (Q-value: 654.596)
 83% Completado
Episodio 10 completado:
   Recompensa: 442.70 (promedio últimos 3: 442.70)
   Satisfacción energética: 20.7% (promedio últimos 3: 20.7%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_8_ep_10.h5
Sin mejora. Paciencia: 3/8
ETA: 1.0 minutos restantes

Episodio 11/25 (Sistema 9)
   Epsilon actual: 0.1065
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1530.324)
 28% 56%      Acción DQN: 1 (Q-value: 637.280)
 83% Completado
Episodio 11 completado:
   Recompensa: 483.81 (promedio últimos 3: 456.40)
   Satisfacción energética: 22.0% (promedio últimos 3: 21.1%)
   Vehículos asignados: 23/72 (31.9%)
   Vehículos saltados: 48/72 (66.7%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 1.0 minutos restantes

Episodio 12/25 (Sistema 9)
   Epsilon actual: 0.1040
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción aleatoria: 2 (epsilon: 0.104)
 28% 56%      Acción DQN: 0 (Q-value: 567.823)
 83% Completado
Episodio 12 completado:
   Recompensa: -14.74 (promedio últimos 3: 303.92)
   Satisfacción energética: 18.2% (promedio últimos 3: 20.3%)
   Vehículos asignados: 16/72 (22.2%)
   Vehículos saltados: 55/72 (76.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 0.9 minutos restantes

Episodio 13/25 (Sistema 9)
   Epsilon actual: 0.1015
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1570.187)
 28% 56%      Acción DQN: 1 (Q-value: 782.215)
 83% Completado
Episodio 13 completado:
   Recompensa: 101.90 (promedio últimos 3: 190.32)
   Satisfacción energética: 16.5% (promedio últimos 3: 18.9%)
   Vehículos asignados: 19/72 (26.4%)
   Vehículos saltados: 52/72 (72.2%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 0.9 minutos restantes

Episodio 14/25 (Sistema 9)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1547.674)
 28% 56%      Acción DQN: 1 (Q-value: 678.460)
 83% Completado
Episodio 14 completado:
   Recompensa: 442.70 (promedio últimos 3: 176.62)
   Satisfacción energética: 20.7% (promedio últimos 3: 18.5%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 0.9 minutos restantes

Episodio 15/25 (Sistema 9)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 72 vehículos...      Acción DQN: 5 (Q-value: 1576.219)
 28% 56%      Acción DQN: 1 (Q-value: 673.729)
 83% Completado
Episodio 15 completado:
   Recompensa: 360.96 (promedio últimos 3: 301.85)
   Satisfacción energética: 20.9% (promedio últimos 3: 19.4%)
   Vehículos asignados: 21/72 (29.2%)
   Vehículos saltados: 50/72 (69.4%)
   Tiempo: 0.3s
   Pasos: 71
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_8_ep_15.h5
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_8.h5
Progreso del sistema 9 guardado en: ./learning_progress\system_9_progress.json
RESUMEN SISTEMA 9:
  Mejora en recompensa: -73.96
  Mejora en satisfacción: -0.2%
  Satisfacción final: 20.9%
  Ratio asignación final: 29.2%

RESUMEN SISTEMA 9:
   Tiempo total: 0.1 minutos
   Recompensa promedio: 425.77
   Mejor métrica combinada: 996.41
   Satisfacción promedio: 21.2%
   Mejor satisfacción: 25.4%
   Episodios completados: 15
   Epsilon final: 0.1145


============================================================
SISTEMA 10 (10/17)
============================================================
Info del sistema: 341 vehículos, 100 plazas, 62 cargadores
Creando entorno para sistema 10...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 10)
   Epsilon actual: 0.1145
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1644.063)
 6% 12%      Acción DQN: 0 (Q-value: 1229.289)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1233.247)
 35% 41%      Acción DQN: 1 (Q-value: 1254.600)
 47% 53% 59%      Acción DQN: 1 (Q-value: 1117.816)
 65% 70%      Acción aleatoria: 1 (epsilon: 0.109)
 76% 82% 88%      Acción DQN: 1 (Q-value: 792.791)
 94% Completado
Episodio 1 completado:
   Recompensa: -6919.61 (promedio últimos 3: -6919.61)
   Satisfacción energética: 23.1% (promedio últimos 3: 23.1%)
   Vehículos asignados: 107/341 (31.4%)
   Vehículos saltados: 231/341 (67.7%)
   Tiempo: 1.5s
   Pasos: 338
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -6896.53

Episodio 2/25 (Sistema 10)
   Epsilon actual: 0.1061
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1775.630)
 6% 12%      Acción DQN: 0 (Q-value: 1316.289)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1147.286)
 35% 41%      Acción DQN: 0 (Q-value: 988.285)
 47% 53% 59%      Acción DQN: 0 (Q-value: 928.050)
 65% 70%      Acción aleatoria: 0 (epsilon: 0.101)
 76% 82% 88%      Acción DQN: 1 (Q-value: 806.010)
 94% Completado
Episodio 2 completado:
   Recompensa: -5587.49 (promedio últimos 3: -5587.49)
   Satisfacción energética: 25.4% (promedio últimos 3: 25.4%)
   Vehículos asignados: 110/341 (32.3%)
   Vehículos saltados: 228/341 (66.9%)
   Tiempo: 1.6s
   Pasos: 338
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -5562.08

Episodio 3/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1606.066)
 6% 12%      Acción DQN: 0 (Q-value: 1155.343)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1155.827)
 35% 41%      Acción DQN: 0 (Q-value: 1086.211)
 47% 53% 59%      Acción DQN: 0 (Q-value: 985.574)
 65% 70%      Acción DQN: 0 (Q-value: 774.121)
 76% 82% 88%      Acción DQN: 1 (Q-value: 820.442)
 94% Completado
Episodio 3 completado:
   Recompensa: -5782.50 (promedio últimos 3: -6096.54)
   Satisfacción energética: 25.1% (promedio últimos 3: 24.5%)
   Vehículos asignados: 111/341 (32.6%)
   Vehículos saltados: 227/341 (66.6%)
   Tiempo: 1.8s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 5.3 minutos restantes

Episodio 4/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1702.905)
 6% 12%      Acción DQN: 0 (Q-value: 1259.717)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1104.434)
 35% 41%      Acción DQN: 0 (Q-value: 1005.361)
 47% 53% 59%      Acción DQN: 1 (Q-value: 1103.976)
 65% 70%      Acción DQN: 0 (Q-value: 892.002)
 76% 82% 88%      Acción DQN: 1 (Q-value: 729.809)
 94% Completado
Episodio 4 completado:
   Recompensa: -7742.49 (promedio últimos 3: -6370.83)
   Satisfacción energética: 22.1% (promedio últimos 3: 24.2%)
   Vehículos asignados: 99/341 (29.0%)
   Vehículos saltados: 239/341 (70.1%)
   Tiempo: 1.4s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 5.1 minutos restantes

Episodio 5/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1518.224)
 6% 12%      Acción DQN: 0 (Q-value: 1178.197)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1210.255)
 35% 41%      Acción aleatoria: 0 (epsilon: 0.100)
 47% 53% 59%      Acción DQN: 0 (Q-value: 816.031)
 65% 70%      Acción DQN: 0 (Q-value: 844.502)
 76% 82% 88%      Acción DQN: 5 (Q-value: 787.531)
 94% Completado
Episodio 5 completado:
   Recompensa: -9423.60 (promedio últimos 3: -7649.53)
   Satisfacción energética: 18.7% (promedio últimos 3: 21.9%)
   Vehículos asignados: 81/341 (23.8%)
   Vehículos saltados: 257/341 (75.4%)
   Tiempo: 1.4s
   Pasos: 338
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_9_ep_5.h5
Sin mejora. Paciencia: 3/8
ETA: 4.9 minutos restantes

Episodio 6/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1655.806)
 6% 12%      Acción DQN: 0 (Q-value: 1168.291)
 18% 23% 29%      Acción aleatoria: 0 (epsilon: 0.100)
 35% 41%      Acción DQN: 0 (Q-value: 952.882)
 47% 53% 59%      Acción DQN: 0 (Q-value: 912.992)
 65% 70%      Acción DQN: 5 (Q-value: 1037.987)
 76% 82% 88%      Acción DQN: 1 (Q-value: 728.609)
 94% Completado
Episodio 6 completado:
   Recompensa: -4844.67 (promedio últimos 3: -7336.92)
   Satisfacción energética: 26.9% (promedio últimos 3: 22.6%)
   Vehículos asignados: 119/341 (34.9%)
   Vehículos saltados: 219/341 (64.2%)
   Tiempo: 1.5s
   Pasos: 338
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -4817.75
ETA: 4.5 minutos restantes

Episodio 7/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1442.961)
 6% 12%      Acción aleatoria: 0 (epsilon: 0.100)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1107.656)
 35% 41%      Acción DQN: 5 (Q-value: 1028.548)
 47% 53% 59%      Acción DQN: 0 (Q-value: 841.010)
 65% 70%      Acción DQN: 1 (Q-value: 885.818)
 76% 82% 88%      Acción DQN: 5 (Q-value: 709.181)
 94% Completado
Episodio 7 completado:
   Recompensa: -3968.46 (promedio últimos 3: -6078.91)
   Satisfacción energética: 26.9% (promedio últimos 3: 24.2%)
   Vehículos asignados: 124/341 (36.4%)
   Vehículos saltados: 214/341 (62.8%)
   Tiempo: 1.4s
   Pasos: 338
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -3941.55
ETA: 4.5 minutos restantes

Episodio 8/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1486.437)
 6% 12%      Acción DQN: 0 (Q-value: 1090.447)
 18% 23% 29%      Acción DQN: 0 (Q-value: 971.468)
 35% 41%      Acción DQN: 0 (Q-value: 937.965)
 47% 53% 59%      Acción DQN: 1 (Q-value: 1013.444)
 65% 70%      Acción DQN: 0 (Q-value: 860.740)
 76% 82% 88%      Acción DQN: 5 (Q-value: 729.779)
 94% Completado
Episodio 8 completado:
   Recompensa: -8192.08 (promedio últimos 3: -5668.40)
   Satisfacción energética: 21.0% (promedio últimos 3: 24.9%)
   Vehículos asignados: 93/341 (27.3%)
   Vehículos saltados: 245/341 (71.8%)
   Tiempo: 1.4s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 4.5 minutos restantes

Episodio 9/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1382.261)
 6% 12%      Acción aleatoria: 0 (epsilon: 0.100)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1153.493)
 35% 41%      Acción DQN: 0 (Q-value: 897.415)
 47% 53% 59%      Acción DQN: 0 (Q-value: 777.619)
 65% 70%      Acción DQN: 0 (Q-value: 681.275)
 76% 82% 88%      Acción DQN: 1 (Q-value: 693.842)
 94% Completado
Episodio 9 completado:
   Recompensa: -9713.31 (promedio últimos 3: -7291.28)
   Satisfacción energética: 19.2% (promedio últimos 3: 22.4%)
   Vehículos asignados: 84/341 (24.6%)
   Vehículos saltados: 254/341 (74.5%)
   Tiempo: 1.5s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 4.5 minutos restantes

Episodio 10/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1399.262)
 6% 12%      Acción DQN: 0 (Q-value: 1074.255)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1028.409)
 35% 41%      Acción DQN: 5 (Q-value: 1066.378)
 47% 53% 59%      Acción aleatoria: 0 (epsilon: 0.100)
 65% 70%      Acción aleatoria: 0 (epsilon: 0.100)
 76% 82% 88%      Acción DQN: 5 (Q-value: 675.067)
 94% Completado
Episodio 10 completado:
   Recompensa: -5206.78 (promedio últimos 3: -7704.06)
   Satisfacción energética: 26.8% (promedio últimos 3: 22.3%)
   Vehículos asignados: 110/341 (32.3%)
   Vehículos saltados: 228/341 (66.9%)
   Tiempo: 1.6s
   Pasos: 338
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_9_ep_10.h5
Sin mejora. Paciencia: 3/8
ETA: 4.7 minutos restantes

Episodio 11/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción aleatoria: 4 (epsilon: 0.100)
 6% 12%      Acción DQN: 0 (Q-value: 1119.948)
 18% 23% 29%      Acción aleatoria: 0 (epsilon: 0.100)
 35% 41%      Acción DQN: 5 (Q-value: 1008.466)
 47% 53% 59%      Acción aleatoria: 3 (epsilon: 0.100)
 65% 70%      Acción DQN: 0 (Q-value: 775.139)
 76% 82% 88%      Acción DQN: 5 (Q-value: 686.223)
 94% Completado
Episodio 11 completado:
   Recompensa: -6687.03 (promedio últimos 3: -7202.37)
   Satisfacción energética: 24.5% (promedio últimos 3: 23.5%)
   Vehículos asignados: 101/341 (29.6%)
   Vehículos saltados: 237/341 (69.5%)
   Tiempo: 1.5s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 4.8 minutos restantes

Episodio 12/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1423.297)
 6% 12%      Acción DQN: 0 (Q-value: 1143.316)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1145.615)
 35% 41%      Acción aleatoria: 0 (epsilon: 0.100)
 47% 53% 59%      Acción aleatoria: 0 (epsilon: 0.100)
 65% 70%      Acción DQN: 1 (Q-value: 918.711)
 76% 82% 88%      Acción DQN: 1 (Q-value: 682.738)
 94% Completado
Episodio 12 completado:
   Recompensa: -6208.32 (promedio últimos 3: -6034.04)
   Satisfacción energética: 24.3% (promedio últimos 3: 25.2%)
   Vehículos asignados: 107/341 (31.4%)
   Vehículos saltados: 231/341 (67.7%)
   Tiempo: 1.7s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 5.0 minutos restantes

Episodio 13/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1386.777)
 6% 12%      Acción DQN: 0 (Q-value: 1280.769)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1208.622)
 35% 41%      Acción aleatoria: 0 (epsilon: 0.100)
 47% 53% 59%      Acción DQN: 0 (Q-value: 920.177)
 65% 70%      Acción DQN: 0 (Q-value: 775.499)
 76% 82% 88%      Acción DQN: 5 (Q-value: 681.405)
 94% Completado
Episodio 13 completado:
   Recompensa: -6904.13 (promedio últimos 3: -6599.83)
   Satisfacción energética: 23.6% (promedio últimos 3: 24.1%)
   Vehículos asignados: 107/341 (31.4%)
   Vehículos saltados: 231/341 (67.7%)
   Tiempo: 1.2s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 4.6 minutos restantes

Episodio 14/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1610.162)
 6% 12%      Acción DQN: 0 (Q-value: 1204.134)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1063.996)
 35% 41%      Acción DQN: 0 (Q-value: 1001.303)
 47% 53% 59%      Acción DQN: 0 (Q-value: 949.182)
 65% 70%      Acción DQN: 1 (Q-value: 873.847)
 76% 82% 88%      Acción DQN: 1 (Q-value: 609.149)
 94% Completado
Episodio 14 completado:
   Recompensa: -7181.36 (promedio últimos 3: -6764.60)
   Satisfacción energética: 23.8% (promedio últimos 3: 23.9%)
   Vehículos asignados: 102/341 (29.9%)
   Vehículos saltados: 236/341 (69.2%)
   Tiempo: 1.2s
   Pasos: 338
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 4.3 minutos restantes

Episodio 15/25 (Sistema 10)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 341 vehículos...      Acción DQN: 5 (Q-value: 1552.499)
 6% 12%      Acción DQN: 0 (Q-value: 1335.457)
 18% 23% 29%      Acción DQN: 0 (Q-value: 1246.167)
 35% 41%      Acción DQN: 0 (Q-value: 984.018)
 47% 53% 59%      Acción DQN: 1 (Q-value: 996.752)
 65% 70%      Acción DQN: 0 (Q-value: 818.574)
 76% 82% 88%      Acción DQN: 1 (Q-value: 625.639)
 94% Completado
Episodio 15 completado:
   Recompensa: -6827.88 (promedio últimos 3: -6971.12)
   Satisfacción energética: 23.7% (promedio últimos 3: 23.7%)
   Vehículos asignados: 106/341 (31.1%)
   Vehículos saltados: 232/341 (68.0%)
   Tiempo: 1.3s
   Pasos: 338
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_9_ep_15.h5
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_9.h5
Progreso del sistema 10 guardado en: ./learning_progress\system_10_progress.json
RESUMEN SISTEMA 10:
  Mejora en recompensa: 91.73
  Mejora en satisfacción: 0.7%
  Satisfacción final: 23.7%
  Ratio asignación final: 31.1%

RESUMEN SISTEMA 10:
   Tiempo total: 0.4 minutos
   Recompensa promedio: -6745.98
   Mejor métrica combinada: -3941.55
   Satisfacción promedio: 23.7%
   Mejor satisfacción: 26.9%
   Episodios completados: 15
   Epsilon final: 0.0999


============================================================
SISTEMA 11 (11/17)
============================================================
Info del sistema: 163 vehículos, 80 plazas, 45 cargadores
Creando entorno para sistema 11...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1597.380)
 12% 25%      Acción DQN: 1 (Q-value: 1282.418)
 37% 49% 61%      Acción DQN: 0 (Q-value: 845.550)
 74% 86%      Acción DQN: 0 (Q-value: 451.508)
 98% Completado
Episodio 1 completado:
   Recompensa: 1065.72 (promedio últimos 3: 1065.72)
   Satisfacción energética: 24.5% (promedio últimos 3: 24.5%)
   Vehículos asignados: 49/163 (30.1%)
   Vehículos saltados: 112/163 (68.7%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 1090.25

Episodio 2/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1624.383)
 12% 25%      Acción DQN: 1 (Q-value: 1327.544)
 37% 49% 61%      Acción DQN: 0 (Q-value: 831.833)
 74% 86%      Acción aleatoria: 0 (epsilon: 0.100)
 98% Completado
Episodio 2 completado:
   Recompensa: 1679.22 (promedio últimos 3: 1679.22)
   Satisfacción energética: 28.0% (promedio últimos 3: 28.0%)
   Vehículos asignados: 52/163 (31.9%)
   Vehículos saltados: 109/163 (66.9%)
   Tiempo: 0.9s
   Pasos: 161
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 1707.25

Episodio 3/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1527.992)
 12% 25%      Acción DQN: 2 (Q-value: 1289.556)
 37% 49% 61%      Acción DQN: 0 (Q-value: 899.649)
 74% 86%      Acción DQN: 0 (Q-value: 375.627)
 98% Completado
Episodio 3 completado:
   Recompensa: 1350.30 (promedio últimos 3: 1365.08)
   Satisfacción energética: 25.7% (promedio últimos 3: 26.1%)
   Vehículos asignados: 51/163 (31.3%)
   Vehículos saltados: 110/163 (67.5%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.4 minutos restantes

Episodio 4/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1539.290)
 12% 25%      Acción DQN: 2 (Q-value: 1349.873)
 37% 49% 61%      Acción DQN: 0 (Q-value: 973.171)
 74% 86%      Acción DQN: 0 (Q-value: 438.307)
 98% Completado
Episodio 4 completado:
   Recompensa: 834.91 (promedio últimos 3: 1288.14)
   Satisfacción energética: 24.0% (promedio últimos 3: 25.9%)
   Vehículos asignados: 46/163 (28.2%)
   Vehículos saltados: 115/163 (70.6%)
   Tiempo: 0.7s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 2.3 minutos restantes

Episodio 5/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1516.247)
 12% 25%      Acción DQN: 2 (Q-value: 1218.237)
 37% 49% 61%      Acción DQN: 0 (Q-value: 895.432)
 74% 86%      Acción DQN: 0 (Q-value: 319.804)
 98% Completado
Episodio 5 completado:
   Recompensa: 2871.04 (promedio últimos 3: 1685.42)
   Satisfacción energética: 34.1% (promedio últimos 3: 27.9%)
   Vehículos asignados: 62/163 (38.0%)
   Vehículos saltados: 99/163 (60.7%)
   Tiempo: 1.0s
   Pasos: 161
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_10_ep_5.h5
Nuevo mejor modelo! Métrica combinada: 2905.18
ETA: 2.4 minutos restantes

Episodio 6/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción aleatoria: 3 (epsilon: 0.100)
 12% 25%      Acción DQN: 2 (Q-value: 1256.784)
 37% 49% 61%      Acción DQN: 0 (Q-value: 869.807)
 74% 86%      Acción DQN: 0 (Q-value: 360.659)
 98% Completado
Episodio 6 completado:
   Recompensa: 1125.40 (promedio últimos 3: 1610.45)
   Satisfacción energética: 25.6% (promedio últimos 3: 27.9%)
   Vehículos asignados: 48/163 (29.4%)
   Vehículos saltados: 113/163 (69.3%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.3 minutos restantes

Episodio 7/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1559.966)
 12% 25%      Acción DQN: 2 (Q-value: 1303.517)
 37% 49% 61%      Acción DQN: 0 (Q-value: 896.443)
 74% 86%      Acción aleatoria: 0 (epsilon: 0.100)
 98% Completado
Episodio 7 completado:
   Recompensa: 1045.42 (promedio últimos 3: 1680.62)
   Satisfacción energética: 24.5% (promedio últimos 3: 28.1%)
   Vehículos asignados: 48/163 (29.4%)
   Vehículos saltados: 113/163 (69.3%)
   Tiempo: 1.0s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 2.6 minutos restantes

Episodio 8/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1717.701)
 12% 25%      Acción DQN: 2 (Q-value: 1245.842)
 37% 49% 61%      Acción aleatoria: 0 (epsilon: 0.100)
 74% 86%      Acción DQN: 0 (Q-value: 483.944)
 98% Completado
Episodio 8 completado:
   Recompensa: 957.52 (promedio últimos 3: 1042.78)
   Satisfacción energética: 24.2% (promedio últimos 3: 24.7%)
   Vehículos asignados: 47/163 (28.8%)
   Vehículos saltados: 114/163 (69.9%)
   Tiempo: 0.7s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 2.3 minutos restantes

Episodio 9/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1634.128)
 12% 25%      Acción DQN: 2 (Q-value: 1319.632)
 37% 49% 61%      Acción DQN: 0 (Q-value: 936.191)
 74% 86%      Acción DQN: 0 (Q-value: 418.028)
 98% Completado
Episodio 9 completado:
   Recompensa: 1618.41 (promedio últimos 3: 1207.12)
   Satisfacción energética: 28.0% (promedio últimos 3: 25.6%)
   Vehículos asignados: 52/163 (31.9%)
   Vehículos saltados: 109/163 (66.9%)
   Tiempo: 0.7s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 2.2 minutos restantes

Episodio 10/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción aleatoria: 0 (epsilon: 0.100)
 12% 25%      Acción DQN: 2 (Q-value: 1371.229)
 37% 49% 61%      Acción DQN: 0 (Q-value: 975.743)
 74% 86%      Acción DQN: 0 (Q-value: 455.006)
 98% Completado
Episodio 10 completado:
   Recompensa: 1465.14 (promedio últimos 3: 1347.02)
   Satisfacción energética: 26.5% (promedio últimos 3: 26.2%)
   Vehículos asignados: 53/163 (32.5%)
   Vehículos saltados: 108/163 (66.3%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_10_ep_10.h5
Sin mejora. Paciencia: 5/8
ETA: 2.0 minutos restantes

Episodio 11/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1570.073)
 12% 25%      Acción DQN: 2 (Q-value: 1291.689)
 37% 49% 61%      Acción DQN: 0 (Q-value: 951.803)
 74% 86%      Acción DQN: 0 (Q-value: 500.854)
 98% Completado
Episodio 11 completado:
   Recompensa: 2036.52 (promedio últimos 3: 1706.69)
   Satisfacción energética: 29.2% (promedio últimos 3: 27.9%)
   Vehículos asignados: 54/163 (33.1%)
   Vehículos saltados: 107/163 (65.6%)
   Tiempo: 0.9s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 2.2 minutos restantes

Episodio 12/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1637.288)
 12% 25%      Acción DQN: 2 (Q-value: 1435.215)
 37% 49% 61%      Acción DQN: 0 (Q-value: 1025.273)
 74% 86%      Acción DQN: 0 (Q-value: 519.124)
 98% Completado
Episodio 12 completado:
   Recompensa: 996.76 (promedio últimos 3: 1499.47)
   Satisfacción energética: 24.3% (promedio últimos 3: 26.7%)
   Vehículos asignados: 48/163 (29.4%)
   Vehículos saltados: 113/163 (69.3%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 2.3 minutos restantes

Episodio 13/25 (Sistema 11)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 163 vehículos...      Acción DQN: 5 (Q-value: 1579.323)
 12% 25%      Acción DQN: 1 (Q-value: 1372.079)
 37% 49% 61%      Acción DQN: 0 (Q-value: 978.424)
 74% 86%      Acción DQN: 0 (Q-value: 433.879)
 98% Completado
Episodio 13 completado:
   Recompensa: 1318.65 (promedio últimos 3: 1450.64)
   Satisfacción energética: 25.7% (promedio últimos 3: 26.4%)
   Vehículos asignados: 52/163 (31.9%)
   Vehículos saltados: 109/163 (66.9%)
   Tiempo: 0.8s
   Pasos: 161
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_10.h5
Progreso del sistema 11 guardado en: ./learning_progress\system_11_progress.json
RESUMEN SISTEMA 11:
  Mejora en recompensa: 252.93
  Mejora en satisfacción: 1.2%
  Satisfacción final: 25.7%
  Ratio asignación final: 31.9%

RESUMEN SISTEMA 11:
   Tiempo total: 0.2 minutos
   Recompensa promedio: 1412.69
   Mejor métrica combinada: 2905.18
   Satisfacción promedio: 26.5%
   Mejor satisfacción: 34.1%
   Episodios completados: 13
   Epsilon final: 0.0999


============================================================
SISTEMA 12 (12/17)
============================================================
Info del sistema: 462 vehículos, 150 plazas, 86 cargadores
Creando entorno para sistema 12...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1486.775)
 4% 9%      Acción DQN: 0 (Q-value: 1173.521)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1237.866)
 26% 30%      Acción DQN: 0 (Q-value: 1234.585)
 35% 39% 43%      Acción aleatoria: 0 (epsilon: 0.100)
 48% 52%      Acción DQN: 0 (Q-value: 1049.427)
 56% 61% 65%      Acción DQN: 0 (Q-value: 938.828)
 69% 74%      Acción aleatoria: 0 (epsilon: 0.100)
 78% 82% 87%      Acción DQN: 5 (Q-value: 973.865)
 91% 95%      Acción DQN: 5 (Q-value: 787.564)
 Completado
Episodio 1 completado:
   Recompensa: -12982.97 (promedio últimos 3: -12982.97)
   Satisfacción energética: 16.2% (promedio últimos 3: 16.2%)
   Vehículos asignados: 109/462 (23.6%)
   Vehículos saltados: 348/462 (75.3%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -12966.75

Episodio 2/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1712.857)
 4% 9%      Acción DQN: 0 (Q-value: 1373.056)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1368.315)
 26% 30%      Acción DQN: 0 (Q-value: 1235.146)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1301.217)
 48% 52%      Acción DQN: 2 (Q-value: 1263.479)
 56% 61% 65%      Acción DQN: 0 (Q-value: 933.513)
 69% 74%      Acción DQN: 0 (Q-value: 952.845)
 78% 82% 87%      Acción DQN: 5 (Q-value: 953.444)
 91% 95%      Acción DQN: 5 (Q-value: 802.262)
 Completado
Episodio 2 completado:
   Recompensa: -14014.18 (promedio últimos 3: -14014.18)
   Satisfacción energética: 14.8% (promedio últimos 3: 14.8%)
   Vehículos asignados: 94/462 (20.3%)
   Vehículos saltados: 363/462 (78.6%)
   Tiempo: 1.9s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1731.343)
 4% 9%      Acción DQN: 0 (Q-value: 1319.173)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1344.542)
 26% 30%      Acción DQN: 0 (Q-value: 1290.814)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1192.334)
 48% 52%      Acción DQN: 2 (Q-value: 1202.862)
 56% 61% 65%      Acción DQN: 0 (Q-value: 957.393)
 69% 74%      Acción DQN: 0 (Q-value: 1043.503)
 78% 82% 87%      Acción DQN: 5 (Q-value: 984.507)
 91% 95%      Acción DQN: 5 (Q-value: 847.081)
 Completado
Episodio 3 completado:
   Recompensa: -11872.72 (promedio últimos 3: -12956.62)
   Satisfacción energética: 17.9% (promedio últimos 3: 16.3%)
   Vehículos asignados: 111/462 (24.0%)
   Vehículos saltados: 346/462 (74.9%)
   Tiempo: 2.1s
   Pasos: 457
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -11854.87
ETA: 5.1 minutos restantes

Episodio 4/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1855.932)
 4% 9%      Acción DQN: 0 (Q-value: 1423.004)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1379.164)
 26% 30%      Acción DQN: 0 (Q-value: 1364.942)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1228.569)
 48% 52%      Acción DQN: 2 (Q-value: 1287.092)
 56% 61% 65%      Acción DQN: 0 (Q-value: 1059.688)
 69% 74%      Acción DQN: 0 (Q-value: 1050.260)
 78% 82% 87%      Acción DQN: 5 (Q-value: 893.649)
 91% 95%      Acción DQN: 5 (Q-value: 814.055)
 Completado
Episodio 4 completado:
   Recompensa: -11819.26 (promedio últimos 3: -12568.72)
   Satisfacción energética: 18.1% (promedio últimos 3: 16.9%)
   Vehículos asignados: 114/462 (24.7%)
   Vehículos saltados: 343/462 (74.2%)
   Tiempo: 1.9s
   Pasos: 457
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -11801.12
ETA: 4.8 minutos restantes

Episodio 5/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1806.340)
 4% 9%      Acción DQN: 0 (Q-value: 1351.688)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1294.367)
 26% 30%      Acción DQN: 0 (Q-value: 1213.542)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1268.764)
 48% 52%      Acción DQN: 0 (Q-value: 1144.095)
 56% 61% 65%      Acción DQN: 0 (Q-value: 1013.424)
 69% 74%      Acción DQN: 0 (Q-value: 1012.417)
 78% 82% 87%      Acción DQN: 5 (Q-value: 963.771)
 91% 95%      Acción DQN: 5 (Q-value: 750.453)
 Completado
Episodio 5 completado:
   Recompensa: -13959.78 (promedio últimos 3: -12550.59)
   Satisfacción energética: 15.2% (promedio últimos 3: 17.1%)
   Vehículos asignados: 97/462 (21.0%)
   Vehículos saltados: 360/462 (77.9%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_11_ep_5.h5
Sin mejora. Paciencia: 1/8
ETA: 5.0 minutos restantes

Episodio 6/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1712.900)
 4% 9%      Acción DQN: 0 (Q-value: 1395.163)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1352.083)
 26% 30%      Acción DQN: 0 (Q-value: 1221.289)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1231.359)
 48% 52%      Acción DQN: 0 (Q-value: 1064.045)
 56% 61% 65%      Acción DQN: 0 (Q-value: 991.902)
 69% 74%      Acción DQN: 0 (Q-value: 1033.063)
 78% 82% 87%      Acción DQN: 8 (Q-value: 878.787)
 91% 95%      Acción DQN: 2 (Q-value: 727.880)
 Completado
Episodio 6 completado:
   Recompensa: -13264.52 (promedio últimos 3: -13014.52)
   Satisfacción energética: 16.6% (promedio últimos 3: 16.6%)
   Vehículos asignados: 99/462 (21.4%)
   Vehículos saltados: 358/462 (77.5%)
   Tiempo: 2.0s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 4.9 minutos restantes

Episodio 7/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 2 (Q-value: 1760.307)
 4% 9%      Acción DQN: 0 (Q-value: 1416.818)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1442.993)
 26% 30%      Acción DQN: 0 (Q-value: 1298.628)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1180.677)
 48% 52%      Acción aleatoria: 0 (epsilon: 0.100)
 56% 61% 65%      Acción aleatoria: 0 (epsilon: 0.100)
 69% 74%      Acción DQN: 0 (Q-value: 1026.189)
 78% 82% 87%      Acción DQN: 8 (Q-value: 862.453)
 91% 95%      Acción DQN: 2 (Q-value: 691.347)
 Completado
Episodio 7 completado:
   Recompensa: -11879.55 (promedio últimos 3: -13034.62)
   Satisfacción energética: 17.2% (promedio últimos 3: 16.3%)
   Vehículos asignados: 114/462 (24.7%)
   Vehículos saltados: 343/462 (74.2%)
   Tiempo: 1.8s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 4.8 minutos restantes

Episodio 8/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 2 (Q-value: 1724.463)
 4% 9%      Acción DQN: 0 (Q-value: 1382.457)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1370.591)
 26% 30%      Acción DQN: 0 (Q-value: 1215.878)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1187.246)
 48% 52%      Acción DQN: 0 (Q-value: 1039.132)
 56% 61% 65%      Acción DQN: 0 (Q-value: 842.050)
 69% 74%      Acción DQN: 0 (Q-value: 893.805)
 78% 82% 87%      Acción DQN: 8 (Q-value: 796.626)
 91% 95%      Acción DQN: 8 (Q-value: 644.182)
 Completado
Episodio 8 completado:
   Recompensa: -12980.29 (promedio últimos 3: -12708.12)
   Satisfacción energética: 16.2% (promedio últimos 3: 16.7%)
   Vehículos asignados: 101/462 (21.9%)
   Vehículos saltados: 356/462 (77.1%)
   Tiempo: 2.1s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 4.7 minutos restantes

Episodio 9/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 8 (Q-value: 1756.392)
 4% 9%      Acción DQN: 0 (Q-value: 1415.415)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1335.375)
 26% 30%      Acción DQN: 0 (Q-value: 1216.075)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1036.959)
 48% 52%      Acción DQN: 5 (Q-value: 1125.750)
 56% 61% 65%      Acción DQN: 0 (Q-value: 889.015)
 69% 74%      Acción DQN: 0 (Q-value: 889.516)
 78% 82% 87%      Acción DQN: 8 (Q-value: 743.535)
 91% 95%      Acción DQN: 8 (Q-value: 690.545)
 Completado
Episodio 9 completado:
   Recompensa: -12588.79 (promedio últimos 3: -12482.88)
   Satisfacción energética: 16.6% (promedio últimos 3: 16.7%)
   Vehículos asignados: 108/462 (23.4%)
   Vehículos saltados: 349/462 (75.5%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 4.8 minutos restantes

Episodio 10/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 8 (Q-value: 1633.737)
 4% 9%      Acción DQN: 0 (Q-value: 1580.679)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1483.644)
 26% 30%      Acción DQN: 0 (Q-value: 1188.883)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1022.528)
 48% 52%      Acción DQN: 2 (Q-value: 1160.725)
 56% 61% 65%      Acción DQN: 0 (Q-value: 855.625)
 69% 74%      Acción DQN: 0 (Q-value: 869.558)
 78% 82% 87%      Acción DQN: 5 (Q-value: 720.861)
 91% 95%      Acción DQN: 5 (Q-value: 565.815)
 Completado
Episodio 10 completado:
   Recompensa: -11422.81 (promedio últimos 3: -12330.63)
   Satisfacción energética: 18.5% (promedio últimos 3: 17.1%)
   Vehículos asignados: 117/462 (25.3%)
   Vehículos saltados: 340/462 (73.6%)
   Tiempo: 2.1s
   Pasos: 457
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_11_ep_10.h5
Nuevo mejor modelo! Métrica combinada: -11404.35
ETA: 5.0 minutos restantes

Episodio 11/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1682.631)
 4% 9%      Acción DQN: 0 (Q-value: 1416.457)
 13% 17% 22%      Acción aleatoria: 0 (epsilon: 0.100)
 26% 30%      Acción DQN: 0 (Q-value: 1210.514)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1117.088)
 48% 52%      Acción DQN: 5 (Q-value: 1150.089)
 56% 61% 65%      Acción DQN: 0 (Q-value: 852.524)
 69% 74%      Acción DQN: 0 (Q-value: 852.156)
 78% 82% 87%      Acción DQN: 8 (Q-value: 710.660)
 91% 95%      Acción DQN: 5 (Q-value: 494.474)
 Completado
Episodio 11 completado:
   Recompensa: -12718.72 (promedio últimos 3: -12243.44)
   Satisfacción energética: 15.8% (promedio últimos 3: 17.0%)
   Vehículos asignados: 100/462 (21.6%)
   Vehículos saltados: 357/462 (77.3%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 5.0 minutos restantes

Episodio 12/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 8 (Q-value: 1684.419)
 4% 9%      Acción DQN: 0 (Q-value: 1449.446)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1281.606)
 26% 30%      Acción DQN: 0 (Q-value: 1145.126)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1101.597)
 48% 52%      Acción DQN: 0 (Q-value: 1067.487)
 56% 61% 65%      Acción DQN: 0 (Q-value: 856.016)
 69% 74%      Acción DQN: 0 (Q-value: 905.699)
 78% 82% 87%      Acción DQN: 8 (Q-value: 750.234)
 91% 95%      Acción aleatoria: 3 (epsilon: 0.100)
 Completado
Episodio 12 completado:
   Recompensa: -15601.81 (promedio últimos 3: -13247.78)
   Satisfacción energética: 12.9% (promedio últimos 3: 15.7%)
   Vehículos asignados: 80/462 (17.3%)
   Vehículos saltados: 377/462 (81.6%)
   Tiempo: 1.9s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 4.7 minutos restantes

Episodio 13/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 8 (Q-value: 1664.527)
 4% 9%      Acción DQN: 0 (Q-value: 1584.628)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1459.081)
 26% 30%      Acción DQN: 0 (Q-value: 1234.910)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1109.896)
 48% 52%      Acción DQN: 0 (Q-value: 943.033)
 56% 61% 65%      Acción DQN: 0 (Q-value: 902.060)
 69% 74%      Acción DQN: 0 (Q-value: 945.832)
 78% 82% 87%      Acción DQN: 5 (Q-value: 755.366)
 91% 95%      Acción DQN: 5 (Q-value: 516.410)
 Completado
Episodio 13 completado:
   Recompensa: -13112.36 (promedio últimos 3: -13810.96)
   Satisfacción energética: 16.6% (promedio últimos 3: 15.1%)
   Vehículos asignados: 106/462 (22.9%)
   Vehículos saltados: 351/462 (76.0%)
   Tiempo: 2.0s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 4.7 minutos restantes

Episodio 14/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1630.119)
 4% 9%      Acción DQN: 0 (Q-value: 1447.595)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1417.417)
 26% 30%      Acción DQN: 0 (Q-value: 1243.878)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1139.143)
 48% 52%      Acción DQN: 0 (Q-value: 976.476)
 56% 61% 65%      Acción DQN: 0 (Q-value: 982.014)
 69% 74%      Acción DQN: 0 (Q-value: 904.540)
 78% 82% 87%      Acción DQN: 5 (Q-value: 667.226)
 91% 95%      Acción DQN: 1 (Q-value: 537.231)
 Completado
Episodio 14 completado:
   Recompensa: -12168.51 (promedio últimos 3: -13627.56)
   Satisfacción energética: 17.6% (promedio últimos 3: 15.7%)
   Vehículos asignados: 113/462 (24.5%)
   Vehículos saltados: 344/462 (74.5%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 4.6 minutos restantes

Episodio 15/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1695.547)
 4% 9%      Acción DQN: 0 (Q-value: 1631.791)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1458.699)
 26% 30%      Acción DQN: 0 (Q-value: 1202.311)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1166.650)
 48% 52%      Acción DQN: 5 (Q-value: 1104.769)
 56% 61% 65%      Acción DQN: 0 (Q-value: 876.471)
 69% 74%      Acción DQN: 0 (Q-value: 951.347)
 78% 82% 87%      Acción DQN: 5 (Q-value: 719.067)
 91% 95%      Acción DQN: 5 (Q-value: 580.598)
 Completado
Episodio 15 completado:
   Recompensa: -12881.33 (promedio últimos 3: -12720.73)
   Satisfacción energética: 15.8% (promedio últimos 3: 16.7%)
   Vehículos asignados: 103/462 (22.3%)
   Vehículos saltados: 354/462 (76.6%)
   Tiempo: 2.2s
   Pasos: 457
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_11_ep_15.h5
Sin mejora. Paciencia: 5/8
ETA: 4.8 minutos restantes

Episodio 16/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción aleatoria: 2 (epsilon: 0.100)
 4% 9%      Acción aleatoria: 0 (epsilon: 0.100)
 13% 17% 22%      Acción aleatoria: 0 (epsilon: 0.100)
 26% 30%      Acción DQN: 0 (Q-value: 1356.149)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1248.905)
 48% 52%      Acción DQN: 0 (Q-value: 1053.672)
 56% 61% 65%      Acción aleatoria: 0 (epsilon: 0.100)
 69% 74%      Acción DQN: 0 (Q-value: 928.113)
 78% 82% 87%      Acción DQN: 5 (Q-value: 777.486)
 91% 95%      Acción aleatoria: 1 (epsilon: 0.100)
 Completado
Episodio 16 completado:
   Recompensa: -15715.39 (promedio últimos 3: -13588.41)
   Satisfacción energética: 12.8% (promedio últimos 3: 15.4%)
   Vehículos asignados: 81/462 (17.5%)
   Vehículos saltados: 376/462 (81.4%)
   Tiempo: 2.1s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 4.9 minutos restantes

Episodio 17/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 5 (Q-value: 1776.729)
 4% 9%      Acción DQN: 0 (Q-value: 1573.104)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1517.857)
 26% 30%      Acción DQN: 0 (Q-value: 1228.696)
 35% 39% 43%      Acción DQN: 0 (Q-value: 1064.125)
 48% 52%      Acción DQN: 2 (Q-value: 1110.465)
 56% 61% 65%      Acción DQN: 0 (Q-value: 896.780)
 69% 74%      Acción DQN: 0 (Q-value: 905.200)
 78% 82% 87%      Acción DQN: 5 (Q-value: 731.319)
 91% 95%      Acción DQN: 5 (Q-value: 565.111)
 Completado
Episodio 17 completado:
   Recompensa: -14092.80 (promedio últimos 3: -14229.84)
   Satisfacción energética: 15.4% (promedio últimos 3: 14.7%)
   Vehículos asignados: 92/462 (19.9%)
   Vehículos saltados: 365/462 (79.0%)
   Tiempo: 2.1s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 4.7 minutos restantes

Episodio 18/25 (Sistema 12)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 462 vehículos...      Acción DQN: 2 (Q-value: 1604.197)
 4% 9%      Acción DQN: 0 (Q-value: 1511.633)
 13% 17% 22%      Acción DQN: 0 (Q-value: 1533.797)
 26% 30%      Acción DQN: 0 (Q-value: 1460.362)
 35% 39% 43%      Acción aleatoria: 0 (epsilon: 0.100)
 48% 52%      Acción DQN: 2 (Q-value: 1296.784)
 56% 61% 65%      Acción DQN: 0 (Q-value: 965.689)
 69% 74%      Acción DQN: 0 (Q-value: 907.801)
 78% 82% 87%      Acción aleatoria: 5 (epsilon: 0.100)
 91% 95%      Acción DQN: 5 (Q-value: 562.210)
 Completado
Episodio 18 completado:
   Recompensa: -11929.23 (promedio últimos 3: -13912.47)
   Satisfacción energética: 17.8% (promedio últimos 3: 15.3%)
   Vehículos asignados: 111/462 (24.0%)
   Vehículos saltados: 346/462 (74.9%)
   Tiempo: 1.9s
   Pasos: 457
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_11.h5
Progreso del sistema 12 guardado en: ./learning_progress\system_12_progress.json
RESUMEN SISTEMA 12:
  Mejora en recompensa: 1053.75
  Mejora en satisfacción: 1.5%
  Satisfacción final: 17.8%
  Ratio asignación final: 24.0%

RESUMEN SISTEMA 12:
   Tiempo total: 0.6 minutos
   Recompensa promedio: -13055.84
   Mejor métrica combinada: -11404.35
   Satisfacción promedio: 16.2%
   Mejor satisfacción: 18.5%
   Episodios completados: 18
   Epsilon final: 0.0999


============================================================
SISTEMA 13 (13/17)
============================================================
Info del sistema: 289 vehículos, 200 plazas, 85 cargadores
Creando entorno para sistema 13...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 2450.055)
 7% 14%      Acción DQN: 0 (Q-value: 2210.381)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1898.158)
 42% 48%      Acción DQN: 5 (Q-value: 1616.629)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1189.379)
 76% 83%      Acción DQN: 0 (Q-value: 770.699)
 90% 97% Completado
Episodio 1 completado:
   Recompensa: 664.07 (promedio últimos 3: 664.07)
   Satisfacción energética: 19.4% (promedio últimos 3: 19.4%)
   Vehículos asignados: 67/289 (23.2%)
   Vehículos saltados: 216/289 (74.7%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 683.46

Episodio 2/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 2213.701)
 7% 14%      Acción DQN: 0 (Q-value: 2057.434)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 48%      Acción DQN: 5 (Q-value: 1477.300)
 55% 62% 69%      Acción DQN: 5 (Q-value: 1308.748)
 76% 83%      Acción DQN: 0 (Q-value: 718.525)
 90% 97% Completado
Episodio 2 completado:
   Recompensa: 845.47 (promedio últimos 3: 845.47)
   Satisfacción energética: 22.1% (promedio últimos 3: 22.1%)
   Vehículos asignados: 72/289 (24.9%)
   Vehículos saltados: 211/289 (73.0%)
   Tiempo: 1.5s
   Pasos: 283
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 867.55

Episodio 3/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 2293.131)
 7% 14%      Acción DQN: 0 (Q-value: 2224.911)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1800.067)
 42% 48%      Acción DQN: 8 (Q-value: 1433.292)
 55% 62% 69%      Acción DQN: 5 (Q-value: 1218.169)
 76% 83%      Acción DQN: 0 (Q-value: 719.605)
 90% 97% Completado
Episodio 3 completado:
   Recompensa: 285.87 (promedio últimos 3: 598.47)
   Satisfacción energética: 19.6% (promedio últimos 3: 20.3%)
   Vehículos asignados: 66/289 (22.8%)
   Vehículos saltados: 217/289 (75.1%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.9 minutos restantes

Episodio 4/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1913.946)
 7% 14%      Acción DQN: 0 (Q-value: 2132.494)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1791.979)
 42% 48%      Acción DQN: 5 (Q-value: 1535.082)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1114.195)
 76% 83%      Acción DQN: 0 (Q-value: 939.083)
 90% 97% Completado
Episodio 4 completado:
   Recompensa: -549.30 (promedio últimos 3: 194.01)
   Satisfacción energética: 16.6% (promedio últimos 3: 19.4%)
   Vehículos asignados: 56/289 (19.4%)
   Vehículos saltados: 227/289 (78.5%)
   Tiempo: 1.3s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 2.8 minutos restantes

Episodio 5/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 2114.101)
 7% 14%      Acción DQN: 0 (Q-value: 2167.962)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 48%      Acción DQN: 5 (Q-value: 1459.637)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1213.226)
 76% 83%      Acción DQN: 0 (Q-value: 782.441)
 90% 97% Completado
Episodio 5 completado:
   Recompensa: 2662.50 (promedio últimos 3: 799.69)
   Satisfacción energética: 24.9% (promedio últimos 3: 20.4%)
   Vehículos asignados: 86/289 (29.8%)
   Vehículos saltados: 197/289 (68.2%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_12_ep_5.h5
Nuevo mejor modelo! Métrica combinada: 2687.43
ETA: 2.8 minutos restantes

Episodio 6/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 2010.732)
 7% 14%      Acción DQN: 0 (Q-value: 2139.200)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1765.461)
 42% 48%      Acción DQN: 5 (Q-value: 1405.492)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1051.934)
 76% 83%      Acción aleatoria: 0 (epsilon: 0.100)
 90% 97% Completado
Episodio 6 completado:
   Recompensa: 605.04 (promedio últimos 3: 906.08)
   Satisfacción energética: 20.2% (promedio últimos 3: 20.6%)
   Vehículos asignados: 69/289 (23.9%)
   Vehículos saltados: 214/289 (74.0%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.8 minutos restantes

Episodio 7/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1929.798)
 7% 14%      Acción DQN: 0 (Q-value: 2100.421)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1725.531)
 42% 48%      Acción DQN: 5 (Q-value: 1337.484)
 55% 62% 69%      Acción DQN: 0 (Q-value: 936.317)
 76% 83%      Acción DQN: 0 (Q-value: 772.478)
 90% 97% Completado
Episodio 7 completado:
   Recompensa: 955.09 (promedio últimos 3: 1407.55)
   Satisfacción energética: 22.3% (promedio últimos 3: 22.5%)
   Vehículos asignados: 73/289 (25.3%)
   Vehículos saltados: 210/289 (72.7%)
   Tiempo: 1.6s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 3.0 minutos restantes

Episodio 8/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1914.337)
 7% 14%      Acción DQN: 0 (Q-value: 1927.954)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1746.034)
 42% 48%      Acción DQN: 5 (Q-value: 1315.041)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1079.691)
 76% 83%      Acción DQN: 0 (Q-value: 836.128)
 90% 97% Completado
Episodio 8 completado:
   Recompensa: -516.80 (promedio últimos 3: 347.78)
   Satisfacción energética: 17.4% (promedio últimos 3: 20.0%)
   Vehículos asignados: 56/289 (19.4%)
   Vehículos saltados: 227/289 (78.5%)
   Tiempo: 1.5s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 3.0 minutos restantes

Episodio 9/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1956.974)
 7% 14%      Acción DQN: 0 (Q-value: 2017.025)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1673.402)
 42% 48%      Acción DQN: 8 (Q-value: 1395.412)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1075.275)
 76% 83%      Acción DQN: 0 (Q-value: 834.140)
 90% 97% Completado
Episodio 9 completado:
   Recompensa: 208.08 (promedio últimos 3: 215.46)
   Satisfacción energética: 20.6% (promedio últimos 3: 20.1%)
   Vehículos asignados: 63/289 (21.8%)
   Vehículos saltados: 220/289 (76.1%)
   Tiempo: 1.6s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 3.1 minutos restantes

Episodio 10/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1873.176)
 7% 14%      Acción DQN: 0 (Q-value: 2037.842)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1785.895)
 42% 48%      Acción DQN: 5 (Q-value: 1451.349)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1144.070)
 76% 83%      Acción aleatoria: 0 (epsilon: 0.100)
 90% 97% Completado
Episodio 10 completado:
   Recompensa: -220.21 (promedio últimos 3: -176.31)
   Satisfacción energética: 18.1% (promedio últimos 3: 18.7%)
   Vehículos asignados: 60/289 (20.8%)
   Vehículos saltados: 223/289 (77.2%)
   Tiempo: 1.5s
   Pasos: 283
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_12_ep_10.h5
Sin mejora. Paciencia: 5/8
ETA: 3.0 minutos restantes

Episodio 11/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1968.483)
 7% 14%      Acción DQN: 0 (Q-value: 1954.842)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1588.354)
 42% 48%      Acción DQN: 8 (Q-value: 1364.491)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1044.859)
 76% 83%      Acción DQN: 0 (Q-value: 798.034)
 90% 97% Completado
Episodio 11 completado:
   Recompensa: 409.62 (promedio últimos 3: 132.50)
   Satisfacción energética: 19.7% (promedio últimos 3: 19.5%)
   Vehículos asignados: 67/289 (23.2%)
   Vehículos saltados: 216/289 (74.7%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 2.9 minutos restantes

Episodio 12/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1852.672)
 7% 14%      Acción DQN: 0 (Q-value: 1904.427)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1566.255)
 42% 48%      Acción DQN: 8 (Q-value: 1130.645)
 55% 62% 69%      Acción DQN: 0 (Q-value: 906.283)
 76% 83%      Acción aleatoria: 0 (epsilon: 0.100)
 90% 97% Completado
Episodio 12 completado:
   Recompensa: 1791.95 (promedio últimos 3: 660.46)
   Satisfacción energética: 23.3% (promedio últimos 3: 20.4%)
   Vehículos asignados: 78/289 (27.0%)
   Vehículos saltados: 205/289 (70.9%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 2.8 minutos restantes

Episodio 13/25 (Sistema 13)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 289 vehículos...      Acción DQN: 5 (Q-value: 1924.061)
 7% 14%      Acción DQN: 0 (Q-value: 1902.486)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1661.365)
 42% 48%      Acción DQN: 8 (Q-value: 1267.402)
 55% 62% 69%      Acción DQN: 0 (Q-value: 1075.937)
 76% 83%      Acción aleatoria: 0 (epsilon: 0.100)
 90% 97% Completado
Episodio 13 completado:
   Recompensa: 198.57 (promedio últimos 3: 800.05)
   Satisfacción energética: 18.6% (promedio últimos 3: 20.6%)
   Vehículos asignados: 63/289 (21.8%)
   Vehículos saltados: 220/289 (76.1%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_12.h5
Progreso del sistema 13 guardado en: ./learning_progress\system_13_progress.json
RESUMEN SISTEMA 13:
  Mejora en recompensa: -465.50
  Mejora en satisfacción: -0.7%
  Satisfacción final: 18.6%
  Ratio asignación final: 21.8%

RESUMEN SISTEMA 13:
   Tiempo total: 0.3 minutos
   Recompensa promedio: 564.61
   Mejor métrica combinada: 2687.43
   Satisfacción promedio: 20.2%
   Mejor satisfacción: 24.9%
   Episodios completados: 13
   Epsilon final: 0.0999


============================================================
SISTEMA 14 (14/17)
============================================================
Info del sistema: 592 vehículos, 200 plazas, 132 cargadores
Creando entorno para sistema 14...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2767.905)
 3% 7%      Acción DQN: 0 (Q-value: 2937.454)
 10% 14% 17%      Acción DQN: 0 (Q-value: 3041.808)
 20% 24%      Acción aleatoria: 0 (epsilon: 0.100)
 27% 30% 34%      Acción DQN: 2 (Q-value: 3083.570)
 37% 41%      Acción DQN: 5 (Q-value: 2783.941)
 44% 47% 51%      Acción DQN: 0 (Q-value: 2463.539)
 54% 57%      Acción DQN: 5 (Q-value: 2783.837)
 61% 64% 68%      Acción DQN: 0 (Q-value: 2498.378)
 71% 74%      Acción DQN: 0 (Q-value: 2294.382)
 78% 81% 84%      Acción DQN: 2 (Q-value: 2039.928)
 88% 91%      Acción aleatoria: 1 (epsilon: 0.100)
 95% 98% Completado
Episodio 1 completado:
   Recompensa: -11605.72 (promedio últimos 3: -11605.72)
   Satisfacción energética: 24.4% (promedio últimos 3: 24.4%)
   Vehículos asignados: 177/592 (29.9%)
   Vehículos saltados: 407/592 (68.8%)
   Tiempo: 3.4s
   Pasos: 584
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -11581.32

Episodio 2/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 3080.837)
 3% 7%      Acción DQN: 0 (Q-value: 2784.224)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2663.926)
 20% 24%      Acción aleatoria: 0 (epsilon: 0.100)
 27% 30% 34%      Acción aleatoria: 2 (epsilon: 0.100)
 37% 41%      Acción DQN: 8 (Q-value: 2655.831)
 44% 47% 51%      Acción DQN: 0 (Q-value: 2145.807)
 54% 57%      Acción DQN: 5 (Q-value: 1975.191)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1856.151)
 71% 74%      Acción DQN: 0 (Q-value: 1826.296)
 78% 81% 84%      Acción DQN: 2 (Q-value: 1582.742)
 88% 91%      Acción DQN: 2 (Q-value: 1521.121)
 95% 98% Completado
Episodio 2 completado:
   Recompensa: -11738.81 (promedio últimos 3: -11738.81)
   Satisfacción energética: 24.0% (promedio últimos 3: 24.0%)
   Vehículos asignados: 178/592 (30.1%)
   Vehículos saltados: 406/592 (68.6%)
   Tiempo: 3.2s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 2 (Q-value: 2541.127)
 3% 7%      Acción DQN: 0 (Q-value: 2560.871)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2346.436)
 20% 24%      Acción DQN: 0 (Q-value: 2411.731)
 27% 30% 34%      Acción DQN: 2 (Q-value: 2336.802)
 37% 41%      Acción aleatoria: 9 (epsilon: 0.100)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1884.376)
 54% 57%      Acción DQN: 5 (Q-value: 1941.459)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1668.471)
 71% 74%      Acción DQN: 0 (Q-value: 1628.134)
 78% 81% 84%      Acción DQN: 2 (Q-value: 1656.324)
 88% 91%      Acción DQN: 2 (Q-value: 1326.848)
 95% 98% Completado
Episodio 3 completado:
   Recompensa: -12813.08 (promedio últimos 3: -12052.54)
   Satisfacción energética: 24.0% (promedio últimos 3: 24.1%)
   Vehículos asignados: 170/592 (28.7%)
   Vehículos saltados: 414/592 (69.9%)
   Tiempo: 2.8s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 5.0 minutos restantes

Episodio 4/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2324.841)
 3% 7%      Acción DQN: 0 (Q-value: 2487.823)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2450.955)
 20% 24%      Acción DQN: 0 (Q-value: 2170.711)
 27% 30% 34%      Acción DQN: 2 (Q-value: 2252.881)
 37% 41%      Acción aleatoria: 6 (epsilon: 0.100)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1625.231)
 54% 57%      Acción DQN: 5 (Q-value: 1599.262)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1501.561)
 71% 74%      Acción DQN: 0 (Q-value: 1525.461)
 78% 81% 84%      Acción DQN: 1 (Q-value: 1262.609)
 88% 91%      Acción DQN: 1 (Q-value: 1053.387)
 95% 98% Completado
Episodio 4 completado:
   Recompensa: -11027.03 (promedio últimos 3: -11859.64)
   Satisfacción energética: 25.1% (promedio últimos 3: 24.4%)
   Vehículos asignados: 178/592 (30.1%)
   Vehículos saltados: 406/592 (68.6%)
   Tiempo: 3.3s
   Pasos: 584
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -11001.94
ETA: 4.9 minutos restantes

Episodio 5/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2147.155)
 3% 7%      Acción DQN: 0 (Q-value: 2393.847)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2217.306)
 20% 24%      Acción DQN: 0 (Q-value: 2088.098)
 27% 30% 34%      Acción DQN: 1 (Q-value: 2065.017)
 37% 41%      Acción DQN: 8 (Q-value: 2078.598)
 44% 47% 51%      Acción aleatoria: 0 (epsilon: 0.100)
 54% 57%      Acción DQN: 5 (Q-value: 1681.960)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1496.700)
 71% 74%      Acción DQN: 0 (Q-value: 1455.149)
 78% 81% 84%      Acción DQN: 5 (Q-value: 1336.707)
 88% 91%      Acción DQN: 2 (Q-value: 1078.295)
 95% 98% Completado
Episodio 5 completado:
   Recompensa: -13946.85 (promedio últimos 3: -12595.65)
   Satisfacción energética: 21.0% (promedio últimos 3: 23.3%)
   Vehículos asignados: 166/592 (28.0%)
   Vehículos saltados: 418/592 (70.6%)
   Tiempo: 3.1s
   Pasos: 584
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_13_ep_5.h5
Sin mejora. Paciencia: 1/8
ETA: 4.8 minutos restantes

Episodio 6/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2181.485)
 3% 7%      Acción DQN: 0 (Q-value: 2363.215)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2232.927)
 20% 24%      Acción DQN: 0 (Q-value: 2188.372)
 27% 30% 34%      Acción DQN: 1 (Q-value: 2202.345)
 37% 41%      Acción DQN: 8 (Q-value: 1959.866)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1529.407)
 54% 57%      Acción DQN: 5 (Q-value: 1566.430)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1425.059)
 71% 74%      Acción DQN: 0 (Q-value: 1391.189)
 78% 81% 84%      Acción DQN: 1 (Q-value: 1183.065)
 88% 91%      Acción DQN: 1 (Q-value: 989.040)
 95% 98% Completado
Episodio 6 completado:
   Recompensa: -12471.41 (promedio últimos 3: -12481.76)
   Satisfacción energética: 24.0% (promedio últimos 3: 23.3%)
   Vehículos asignados: 171/592 (28.9%)
   Vehículos saltados: 413/592 (69.8%)
   Tiempo: 2.8s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 4.8 minutos restantes

Episodio 7/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2175.555)
 3% 7%      Acción DQN: 0 (Q-value: 2345.749)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2262.739)
 20% 24%      Acción aleatoria: 0 (epsilon: 0.100)
 27% 30% 34%      Acción DQN: 2 (Q-value: 2091.642)
 37% 41%      Acción DQN: 5 (Q-value: 1850.150)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1510.793)
 54% 57%      Acción DQN: 5 (Q-value: 1586.458)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1314.749)
 71% 74%      Acción DQN: 0 (Q-value: 1258.106)
 78% 81% 84%      Acción DQN: 1 (Q-value: 1159.963)
 88% 91%      Acción DQN: 1 (Q-value: 1073.062)
 95% 98% Completado
Episodio 7 completado:
   Recompensa: -12730.02 (promedio últimos 3: -13049.43)
   Satisfacción energética: 24.1% (promedio últimos 3: 23.0%)
   Vehículos asignados: 165/592 (27.9%)
   Vehículos saltados: 419/592 (70.8%)
   Tiempo: 2.9s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 4.6 minutos restantes

Episodio 8/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 1 (Q-value: 2107.072)
 3% 7%      Acción DQN: 0 (Q-value: 2098.572)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2015.980)
 20% 24%      Acción DQN: 0 (Q-value: 2122.855)
 27% 30% 34%      Acción DQN: 1 (Q-value: 2128.928)
 37% 41%      Acción DQN: 8 (Q-value: 1879.743)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1551.044)
 54% 57%      Acción DQN: 5 (Q-value: 1598.456)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1427.240)
 71% 74%      Acción DQN: 0 (Q-value: 1274.418)
 78% 81% 84%      Acción aleatoria: 0 (epsilon: 0.100)
 88% 91%      Acción DQN: 1 (Q-value: 1038.461)
 95% 98% Completado
Episodio 8 completado:
   Recompensa: -12041.40 (promedio últimos 3: -12414.28)
   Satisfacción energética: 24.3% (promedio últimos 3: 24.1%)
   Vehículos asignados: 174/592 (29.4%)
   Vehículos saltados: 410/592 (69.3%)
   Tiempo: 3.1s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 4.5 minutos restantes

Episodio 9/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 1869.236)
 3% 7%      Acción DQN: 0 (Q-value: 2066.448)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2038.650)
 20% 24%      Acción DQN: 0 (Q-value: 1936.401)
 27% 30% 34%      Acción DQN: 2 (Q-value: 1922.044)
 37% 41%      Acción DQN: 8 (Q-value: 1786.510)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1525.518)
 54% 57%      Acción aleatoria: 4 (epsilon: 0.100)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1262.853)
 71% 74%      Acción DQN: 0 (Q-value: 1319.206)
 78% 81% 84%      Acción DQN: 2 (Q-value: 1128.240)
 88% 91%      Acción DQN: 2 (Q-value: 991.211)
 95% 98% Completado
Episodio 9 completado:
   Recompensa: -12624.52 (promedio últimos 3: -12465.31)
   Satisfacción energética: 23.6% (promedio últimos 3: 24.0%)
   Vehículos asignados: 172/592 (29.1%)
   Vehículos saltados: 412/592 (69.6%)
   Tiempo: 3.3s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 4.7 minutos restantes

Episodio 10/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2152.636)
 3% 7%      Acción DQN: 0 (Q-value: 2178.893)
 10% 14% 17%      Acción DQN: 0 (Q-value: 2024.703)
 20% 24%      Acción DQN: 0 (Q-value: 2068.996)
 27% 30% 34%      Acción DQN: 2 (Q-value: 2026.875)
 37% 41%      Acción DQN: 5 (Q-value: 1907.585)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1413.714)
 54% 57%      Acción aleatoria: 6 (epsilon: 0.100)
 61% 64% 68%      Acción aleatoria: 0 (epsilon: 0.100)
 71% 74%      Acción DQN: 0 (Q-value: 1322.154)
 78% 81% 84%      Acción DQN: 2 (Q-value: 1078.086)
 88% 91%      Acción DQN: 5 (Q-value: 1042.227)
 95% 98% Completado
Episodio 10 completado:
   Recompensa: -12561.71 (promedio últimos 3: -12409.21)
   Satisfacción energética: 23.9% (promedio últimos 3: 23.9%)
   Vehículos asignados: 169/592 (28.5%)
   Vehículos saltados: 415/592 (70.1%)
   Tiempo: 3.4s
   Pasos: 584
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_13_ep_10.h5
Sin mejora. Paciencia: 6/8
ETA: 4.9 minutos restantes

Episodio 11/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción DQN: 5 (Q-value: 2051.250)
 3% 7%      Acción DQN: 0 (Q-value: 1997.766)
 10% 14% 17%      Acción aleatoria: 0 (epsilon: 0.100)
 20% 24%      Acción DQN: 0 (Q-value: 1971.837)
 27% 30% 34%      Acción DQN: 2 (Q-value: 2044.843)
 37% 41%      Acción DQN: 8 (Q-value: 1900.973)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1629.059)
 54% 57%      Acción DQN: 5 (Q-value: 1818.395)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1477.178)
 71% 74%      Acción DQN: 0 (Q-value: 1294.812)
 78% 81% 84%      Acción DQN: 2 (Q-value: 969.820)
 88% 91%      Acción DQN: 2 (Q-value: 946.279)
 95% 98% Completado
Episodio 11 completado:
   Recompensa: -12595.37 (promedio últimos 3: -12593.87)
   Satisfacción energética: 23.5% (promedio últimos 3: 23.7%)
   Vehículos asignados: 169/592 (28.5%)
   Vehículos saltados: 415/592 (70.1%)
   Tiempo: 3.3s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 4.9 minutos restantes

Episodio 12/25 (Sistema 14)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 592 vehículos...      Acción aleatoria: 1 (epsilon: 0.100)
 3% 7%      Acción DQN: 0 (Q-value: 2079.184)
 10% 14% 17%      Acción aleatoria: 0 (epsilon: 0.100)
 20% 24%      Acción DQN: 0 (Q-value: 1954.257)
 27% 30% 34%      Acción aleatoria: 1 (epsilon: 0.100)
 37% 41%      Acción DQN: 8 (Q-value: 1852.844)
 44% 47% 51%      Acción DQN: 0 (Q-value: 1584.293)
 54% 57%      Acción DQN: 5 (Q-value: 1666.605)
 61% 64% 68%      Acción DQN: 0 (Q-value: 1434.899)
 71% 74%      Acción DQN: 0 (Q-value: 1365.585)
 78% 81% 84%      Acción DQN: 1 (Q-value: 966.018)
 88% 91%      Acción DQN: 1 (Q-value: 928.763)
 95% 98% Completado
Episodio 12 completado:
   Recompensa: -14229.76 (promedio últimos 3: -13128.95)
   Satisfacción energética: 21.5% (promedio últimos 3: 23.0%)
   Vehículos asignados: 159/592 (26.9%)
   Vehículos saltados: 425/592 (71.8%)
   Tiempo: 3.3s
   Pasos: 584
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_13.h5
Progreso del sistema 14 guardado en: ./learning_progress\system_14_progress.json
RESUMEN SISTEMA 14:
  Mejora en recompensa: -2624.04
  Mejora en satisfacción: -2.9%
  Satisfacción final: 21.5%
  Ratio asignación final: 26.9%

RESUMEN SISTEMA 14:
   Tiempo total: 0.6 minutos
   Recompensa promedio: -12532.14
   Mejor métrica combinada: -11001.94
   Satisfacción promedio: 23.6%
   Mejor satisfacción: 25.1%
   Episodios completados: 12
   Epsilon final: 0.0999


============================================================
SISTEMA 15 (15/17)
============================================================
Info del sistema: 431 vehículos, 100 plazas, 55 cargadores
Creando entorno para sistema 15...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1862.011)
 5% 9%      Acción DQN: 0 (Q-value: 2009.240)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1857.204)
 28% 32%      Acción DQN: 0 (Q-value: 1734.851)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1502.570)
 51% 56%      Acción DQN: 0 (Q-value: 1439.408)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1305.579)
 74% 79%      Acción DQN: 0 (Q-value: 1277.443)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1176.456)
 97% Completado
Episodio 1 completado:
   Recompensa: -9060.95 (promedio últimos 3: -9060.95)
   Satisfacción energética: 6.4% (promedio últimos 3: 6.4%)
   Vehículos asignados: 24/431 (5.6%)
   Vehículos saltados: 404/431 (93.7%)
   Tiempo: 2.0s
   Pasos: 428
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -9054.50

Episodio 2/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1844.765)
 5% 9%      Acción DQN: 0 (Q-value: 1965.580)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1786.975)
 28% 32%      Acción DQN: 0 (Q-value: 1672.385)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1437.679)
 51% 56%      Acción DQN: 0 (Q-value: 1375.506)
 60% 65% 70%      Acción aleatoria: 0 (epsilon: 0.100)
 74% 79%      Acción DQN: 0 (Q-value: 1159.390)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1129.461)
 97% Completado
Episodio 2 completado:
   Recompensa: -9060.95 (promedio últimos 3: -9060.95)
   Satisfacción energética: 6.4% (promedio últimos 3: 6.4%)
   Vehículos asignados: 24/431 (5.6%)
   Vehículos saltados: 404/431 (93.7%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 5 (Q-value: 1768.674)
 5% 9%      Acción DQN: 0 (Q-value: 1815.536)
 14% 19% 23%      Acción aleatoria: 0 (epsilon: 0.100)
 28% 32%      Acción DQN: 0 (Q-value: 1591.167)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1531.313)
 51% 56%      Acción DQN: 0 (Q-value: 1385.532)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1334.618)
 74% 79%      Acción DQN: 0 (Q-value: 1193.731)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1127.418)
 97% Completado
Episodio 3 completado:
   Recompensa: -9060.95 (promedio últimos 3: -9060.95)
   Satisfacción energética: 6.4% (promedio últimos 3: 6.4%)
   Vehículos asignados: 24/431 (5.6%)
   Vehículos saltados: 404/431 (93.7%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 2.2 minutos restantes

Episodio 4/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción aleatoria: 2 (epsilon: 0.100)
 5% 9%      Acción aleatoria: 0 (epsilon: 0.100)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1577.814)
 28% 32%      Acción DQN: 0 (Q-value: 1628.116)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1445.831)
 51% 56%      Acción aleatoria: 0 (epsilon: 0.100)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1270.229)
 74% 79%      Acción DQN: 0 (Q-value: 1264.438)
 84% 88% 93%      Acción aleatoria: 0 (epsilon: 0.100)
 97% Completado
Episodio 4 completado:
   Recompensa: -9060.95 (promedio últimos 3: -9060.95)
   Satisfacción energética: 6.4% (promedio últimos 3: 6.4%)
   Vehículos asignados: 24/431 (5.6%)
   Vehículos saltados: 404/431 (93.7%)
   Tiempo: 1.7s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 2.1 minutos restantes

Episodio 5/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 5 (Q-value: 1788.250)
 5% 9%      Acción DQN: 0 (Q-value: 1859.970)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1617.579)
 28% 32%      Acción DQN: 0 (Q-value: 1499.351)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1295.913)
 51% 56%      Acción aleatoria: 0 (epsilon: 0.100)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1262.069)
 74% 79%      Acción DQN: 0 (Q-value: 1134.145)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1077.642)
 97% Completado
Episodio 5 completado:
   Recompensa: -7742.99 (promedio últimos 3: -8621.63)
   Satisfacción energética: 8.0% (promedio últimos 3: 7.0%)
   Vehículos asignados: 41/431 (9.5%)
   Vehículos saltados: 387/431 (89.8%)
   Tiempo: 1.7s
   Pasos: 428
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_14_ep_5.h5
Nuevo mejor modelo! Métrica combinada: -7735.00
ETA: 2.0 minutos restantes

Episodio 6/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1842.908)
 5% 9%      Acción DQN: 0 (Q-value: 1780.673)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1672.471)
 28% 32%      Acción DQN: 0 (Q-value: 1665.759)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1471.918)
 51% 56%      Acción DQN: 0 (Q-value: 1340.071)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1348.791)
 74% 79%      Acción DQN: 0 (Q-value: 1248.619)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1187.327)
 97% Completado
Episodio 6 completado:
   Recompensa: -8682.80 (promedio últimos 3: -8495.58)
   Satisfacción energética: 6.3% (promedio últimos 3: 6.9%)
   Vehículos asignados: 31/431 (7.2%)
   Vehículos saltados: 397/431 (92.1%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.0 minutos restantes

Episodio 7/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1994.294)
 5% 9%      Acción DQN: 0 (Q-value: 1918.004)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1632.505)
 28% 32%      Acción DQN: 0 (Q-value: 1598.317)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1481.621)
 51% 56%      Acción DQN: 0 (Q-value: 1454.616)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1256.869)
 74% 79%      Acción DQN: 0 (Q-value: 1163.256)
 84% 88% 93%      Acción DQN: 0 (Q-value: 993.725)
 97% Completado
Episodio 7 completado:
   Recompensa: -7865.54 (promedio últimos 3: -8097.11)
   Satisfacción energética: 7.9% (promedio últimos 3: 7.4%)
   Vehículos asignados: 40/431 (9.3%)
   Vehículos saltados: 388/431 (90.0%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 2.0 minutos restantes

Episodio 8/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1838.890)
 5% 9%      Acción DQN: 0 (Q-value: 1825.560)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1613.979)
 28% 32%      Acción aleatoria: 0 (epsilon: 0.100)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1462.545)
 51% 56%      Acción DQN: 0 (Q-value: 1302.804)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1319.462)
 74% 79%      Acción DQN: 0 (Q-value: 1152.194)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1052.604)
 97% Completado
Episodio 8 completado:
   Recompensa: -5526.97 (promedio últimos 3: -7358.44)
   Satisfacción energética: 11.3% (promedio últimos 3: 8.5%)
   Vehículos asignados: 66/431 (15.3%)
   Vehículos saltados: 362/431 (84.0%)
   Tiempo: 2.0s
   Pasos: 428
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -5515.63
ETA: 2.1 minutos restantes

Episodio 9/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 5 (Q-value: 1904.595)
 5% 9%      Acción DQN: 0 (Q-value: 1774.596)
 14% 19% 23%      Acción aleatoria: 0 (epsilon: 0.100)
 28% 32%      Acción DQN: 0 (Q-value: 1465.363)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1345.334)
 51% 56%      Acción DQN: 0 (Q-value: 1292.896)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1286.427)
 74% 79%      Acción DQN: 0 (Q-value: 1310.730)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1162.108)
 97% Completado
Episodio 9 completado:
   Recompensa: -7387.13 (promedio últimos 3: -6926.55)
   Satisfacción energética: 8.7% (promedio últimos 3: 9.3%)
   Vehículos asignados: 43/431 (10.0%)
   Vehículos saltados: 385/431 (89.3%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 2.1 minutos restantes

Episodio 10/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1998.979)
 5% 9%      Acción DQN: 0 (Q-value: 1859.918)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1686.423)
 28% 32%      Acción aleatoria: 0 (epsilon: 0.100)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1395.246)
 51% 56%      Acción DQN: 0 (Q-value: 1395.582)
 60% 65% 70%      Acción aleatoria: 0 (epsilon: 0.100)
 74% 79%      Acción DQN: 0 (Q-value: 1241.723)
 84% 88% 93%      Acción aleatoria: 0 (epsilon: 0.100)
 97% Completado
Episodio 10 completado:
   Recompensa: -8028.26 (promedio últimos 3: -6980.79)
   Satisfacción energética: 7.8% (promedio últimos 3: 9.3%)
   Vehículos asignados: 35/431 (8.1%)
   Vehículos saltados: 393/431 (91.2%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_14_ep_10.h5
Sin mejora. Paciencia: 2/8
ETA: 2.0 minutos restantes

Episodio 11/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción aleatoria: 3 (epsilon: 0.100)
 5% 9%      Acción DQN: 0 (Q-value: 1735.547)
 14% 19% 23%      Acción aleatoria: 0 (epsilon: 0.100)
 28% 32%      Acción DQN: 0 (Q-value: 1546.495)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1462.307)
 51% 56%      Acción DQN: 0 (Q-value: 1448.132)
 60% 65% 70%      Acción aleatoria: 0 (epsilon: 0.100)
 74% 79%      Acción DQN: 0 (Q-value: 1246.196)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1050.788)
 97% Completado
Episodio 11 completado:
   Recompensa: -7221.64 (promedio últimos 3: -7545.68)
   Satisfacción energética: 9.2% (promedio últimos 3: 8.5%)
   Vehículos asignados: 42/431 (9.7%)
   Vehículos saltados: 386/431 (89.6%)
   Tiempo: 1.9s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 2.0 minutos restantes

Episodio 12/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1833.200)
 5% 9%      Acción DQN: 0 (Q-value: 1833.970)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1596.895)
 28% 32%      Acción DQN: 0 (Q-value: 1625.298)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1431.469)
 51% 56%      Acción DQN: 0 (Q-value: 1516.710)
 60% 65% 70%      Acción DQN: 1 (Q-value: 1478.417)
 74% 79%      Acción DQN: 0 (Q-value: 1336.840)
 84% 88% 93%      Acción aleatoria: 0 (epsilon: 0.100)
 97% Completado
Episodio 12 completado:
   Recompensa: -7938.55 (promedio últimos 3: -7729.49)
   Satisfacción energética: 8.1% (promedio últimos 3: 8.3%)
   Vehículos asignados: 39/431 (9.0%)
   Vehículos saltados: 389/431 (90.3%)
   Tiempo: 1.7s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 1.9 minutos restantes

Episodio 13/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1980.794)
 5% 9%      Acción DQN: 0 (Q-value: 1806.153)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1648.245)
 28% 32%      Acción DQN: 0 (Q-value: 1595.509)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1420.609)
 51% 56%      Acción DQN: 0 (Q-value: 1559.437)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1432.283)
 74% 79%      Acción aleatoria: 0 (epsilon: 0.100)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1141.388)
 97% Completado
Episodio 13 completado:
   Recompensa: -8835.52 (promedio últimos 3: -7998.57)
   Satisfacción energética: 6.3% (promedio últimos 3: 7.8%)
   Vehículos asignados: 26/431 (6.0%)
   Vehículos saltados: 402/431 (93.3%)
   Tiempo: 1.7s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 1.8 minutos restantes

Episodio 14/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 5 (Q-value: 1912.986)
 5% 9%      Acción DQN: 0 (Q-value: 1784.746)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1572.465)
 28% 32%      Acción DQN: 0 (Q-value: 1462.550)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1417.189)
 51% 56%      Acción DQN: 0 (Q-value: 1397.001)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1362.300)
 74% 79%      Acción DQN: 0 (Q-value: 1288.345)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1210.056)
 97% Completado
Episodio 14 completado:
   Recompensa: -9060.95 (promedio últimos 3: -8611.68)
   Satisfacción energética: 6.4% (promedio últimos 3: 6.9%)
   Vehículos asignados: 24/431 (5.6%)
   Vehículos saltados: 404/431 (93.7%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 1.8 minutos restantes

Episodio 15/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1850.322)
 5% 9%      Acción DQN: 0 (Q-value: 1725.032)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1519.979)
 28% 32%      Acción DQN: 0 (Q-value: 1409.579)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1380.738)
 51% 56%      Acción DQN: 0 (Q-value: 1395.583)
 60% 65% 70%      Acción DQN: 0 (Q-value: 1340.067)
 74% 79%      Acción aleatoria: 0 (epsilon: 0.100)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1033.647)
 97% Completado
Episodio 15 completado:
   Recompensa: -6944.37 (promedio últimos 3: -8280.28)
   Satisfacción energética: 9.2% (promedio últimos 3: 7.3%)
   Vehículos asignados: 50/431 (11.6%)
   Vehículos saltados: 378/431 (87.7%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_14_ep_15.h5
Sin mejora. Paciencia: 7/8
ETA: 1.8 minutos restantes

Episodio 16/25 (Sistema 15)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 431 vehículos...      Acción DQN: 8 (Q-value: 1710.733)
 5% 9%      Acción DQN: 0 (Q-value: 1679.457)
 14% 19% 23%      Acción DQN: 0 (Q-value: 1525.157)
 28% 32%      Acción DQN: 0 (Q-value: 1487.938)
 37% 42% 46%      Acción DQN: 0 (Q-value: 1291.696)
 51% 56%      Acción DQN: 0 (Q-value: 1389.666)
 60% 65% 70%      Acción aleatoria: 0 (epsilon: 0.100)
 74% 79%      Acción DQN: 0 (Q-value: 1175.410)
 84% 88% 93%      Acción DQN: 0 (Q-value: 1044.869)
 97% Completado
Episodio 16 completado:
   Recompensa: -7904.74 (promedio últimos 3: -7970.02)
   Satisfacción energética: 8.1% (promedio últimos 3: 7.9%)
   Vehículos asignados: 39/431 (9.0%)
   Vehículos saltados: 389/431 (90.3%)
   Tiempo: 1.8s
   Pasos: 428
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_14.h5
Progreso del sistema 15 guardado en: ./learning_progress\system_15_progress.json
RESUMEN SISTEMA 15:
  Mejora en recompensa: 1156.21
  Mejora en satisfacción: 1.7%
  Satisfacción final: 8.1%
  Ratio asignación final: 9.0%

RESUMEN SISTEMA 15:
   Tiempo total: 0.5 minutos
   Recompensa promedio: -8086.45
   Mejor métrica combinada: -5515.63
   Satisfacción promedio: 7.7%
   Mejor satisfacción: 11.3%
   Episodios completados: 16
   Epsilon final: 0.0999


============================================================
SISTEMA 16 (16/17)
============================================================
Info del sistema: 285 vehículos, 150 plazas, 80 cargadores
Creando entorno para sistema 16...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 2 (Q-value: 1984.796)
 7% 14%      Acción DQN: 0 (Q-value: 1552.599)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 49%      Acción aleatoria: 0 (epsilon: 0.100)
 56% 63% 70%      Acción DQN: 0 (Q-value: 911.661)
 77% 84%      Acción DQN: 8 (Q-value: 614.373)
 91% 98% Completado
Episodio 1 completado:
   Recompensa: 1319.85 (promedio últimos 3: 1319.85)
   Satisfacción energética: 20.2% (promedio últimos 3: 20.2%)
   Vehículos asignados: 74/285 (26.0%)
   Vehículos saltados: 209/285 (73.3%)
   Tiempo: 1.6s
   Pasos: 283
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: 1340.00

Episodio 2/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 5 (Q-value: 1821.525)
 7% 14%      Acción DQN: 0 (Q-value: 1524.000)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1384.746)
 42% 49%      Acción DQN: 0 (Q-value: 1115.768)
 56% 63% 70%      Acción DQN: 0 (Q-value: 948.196)
 77% 84%      Acción DQN: 5 (Q-value: 785.716)
 91% 98% Completado
Episodio 2 completado:
   Recompensa: -1202.59 (promedio últimos 3: -1202.59)
   Satisfacción energética: 14.8% (promedio últimos 3: 14.8%)
   Vehículos asignados: 52/285 (18.2%)
   Vehículos saltados: 231/285 (81.1%)
   Tiempo: 1.5s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8

Episodio 3/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 5 (Q-value: 1687.406)
 7% 14%      Acción DQN: 0 (Q-value: 1455.541)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1383.898)
 42% 49%      Acción DQN: 0 (Q-value: 1066.938)
 56% 63% 70%      Acción DQN: 5 (Q-value: 874.847)
 77% 84%      Acción DQN: 8 (Q-value: 539.342)
 91% 98% Completado
Episodio 3 completado:
   Recompensa: 884.17 (promedio últimos 3: 333.81)
   Satisfacción energética: 20.0% (promedio últimos 3: 18.3%)
   Vehículos asignados: 74/285 (26.0%)
   Vehículos saltados: 209/285 (73.3%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 1.2 minutos restantes

Episodio 4/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 2 (Q-value: 1691.689)
 7% 14%      Acción DQN: 0 (Q-value: 1357.894)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 49%      Acción DQN: 0 (Q-value: 1037.624)
 56% 63% 70%      Acción DQN: 0 (Q-value: 852.744)
 77% 84%      Acción DQN: 5 (Q-value: 592.783)
 91% 98% Completado
Episodio 4 completado:
   Recompensa: 367.79 (promedio últimos 3: 16.46)
   Satisfacción energética: 18.8% (promedio últimos 3: 17.9%)
   Vehículos asignados: 66/285 (23.2%)
   Vehículos saltados: 217/285 (76.1%)
   Tiempo: 1.5s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 1.1 minutos restantes

Episodio 5/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción aleatoria: 3 (epsilon: 0.100)
 7% 14%      Acción DQN: 0 (Q-value: 1398.480)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1225.868)
 42% 49%      Acción DQN: 0 (Q-value: 977.147)
 56% 63% 70%      Acción DQN: 0 (Q-value: 847.870)
 77% 84%      Acción DQN: 5 (Q-value: 652.516)
 91% 98% Completado
Episodio 5 completado:
   Recompensa: -1030.92 (promedio últimos 3: 73.68)
   Satisfacción energética: 15.5% (promedio últimos 3: 18.1%)
   Vehículos asignados: 55/285 (19.3%)
   Vehículos saltados: 228/285 (80.0%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_15_ep_5.h5
Sin mejora. Paciencia: 4/8
ETA: 1.1 minutos restantes

Episodio 6/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 5 (Q-value: 1634.322)
 7% 14%      Acción DQN: 0 (Q-value: 1477.564)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1275.365)
 42% 49%      Acción DQN: 0 (Q-value: 982.002)
 56% 63% 70%      Acción DQN: 0 (Q-value: 837.655)
 77% 84%      Acción DQN: 0 (Q-value: 661.414)
 91% 98% Completado
Episodio 6 completado:
   Recompensa: -2838.74 (promedio últimos 3: -1167.29)
   Satisfacción energética: 11.3% (promedio últimos 3: 15.2%)
   Vehículos asignados: 36/285 (12.6%)
   Vehículos saltados: 247/285 (86.7%)
   Tiempo: 1.4s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 5/8
ETA: 1.0 minutos restantes

Episodio 7/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción aleatoria: 5 (epsilon: 0.100)
 7% 14%      Acción DQN: 0 (Q-value: 1348.302)
 21% 28% 35%      Acción DQN: 0 (Q-value: 1241.418)
 42% 49%      Acción DQN: 0 (Q-value: 973.097)
 56% 63% 70%      Acción DQN: 0 (Q-value: 853.466)
 77% 84%      Acción DQN: 0 (Q-value: 688.055)
 91% 98% Completado
Episodio 7 completado:
   Recompensa: -2773.75 (promedio últimos 3: -2214.47)
   Satisfacción energética: 12.1% (promedio últimos 3: 13.0%)
   Vehículos asignados: 36/285 (12.6%)
   Vehículos saltados: 247/285 (86.7%)
   Tiempo: 1.3s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 1.0 minutos restantes

Episodio 8/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 5 (Q-value: 1565.829)
 7% 14%      Acción DQN: 0 (Q-value: 1347.047)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 49%      Acción DQN: 0 (Q-value: 926.242)
 56% 63% 70%      Acción DQN: 0 (Q-value: 689.374)
 77% 84%      Acción DQN: 5 (Q-value: 614.054)
 91% 98% Completado
Episodio 8 completado:
   Recompensa: -376.92 (promedio últimos 3: -1996.47)
   Satisfacción energética: 16.3% (promedio últimos 3: 13.2%)
   Vehículos asignados: 63/285 (22.1%)
   Vehículos saltados: 220/285 (77.2%)
   Tiempo: 1.2s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 0.9 minutos restantes

Episodio 9/25 (Sistema 16)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 285 vehículos...      Acción DQN: 5 (Q-value: 1582.611)
 7% 14%      Acción DQN: 0 (Q-value: 1366.881)
 21% 28% 35%      Acción aleatoria: 0 (epsilon: 0.100)
 42% 49%      Acción DQN: 0 (Q-value: 902.993)
 56% 63% 70%      Acción DQN: 0 (Q-value: 770.995)
 77% 84%      Acción DQN: 0 (Q-value: 688.022)
 91% 98% Completado
Episodio 9 completado:
   Recompensa: -2838.74 (promedio últimos 3: -1996.47)
   Satisfacción energética: 11.3% (promedio últimos 3: 13.2%)
   Vehículos asignados: 36/285 (12.6%)
   Vehículos saltados: 247/285 (86.7%)
   Tiempo: 1.1s
   Pasos: 283
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_15.h5
Progreso del sistema 16 guardado en: ./learning_progress\system_16_progress.json
RESUMEN SISTEMA 16:
  Mejora en recompensa: -4158.59
  Mejora en satisfacción: -8.9%
  Satisfacción final: 11.3%
  Ratio asignación final: 12.6%

RESUMEN SISTEMA 16:
   Tiempo total: 0.2 minutos
   Recompensa promedio: -943.32
   Mejor métrica combinada: 1340.00
   Satisfacción promedio: 15.6%
   Mejor satisfacción: 20.2%
   Episodios completados: 9
   Epsilon final: 0.0999


============================================================
SISTEMA 17 (17/17)
============================================================
Info del sistema: 554 vehículos, 30 plazas, 17 cargadores
Creando entorno para sistema 17...
Entorno creado
Ejecutando episodios 1-25...

Episodio 1/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1683.877)
 4% 7%      Acción DQN: 0 (Q-value: 1436.435)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1485.659)
 22% 25%      Acción DQN: 0 (Q-value: 1302.164)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1263.986)
 40% 43%      Acción DQN: 0 (Q-value: 1235.993)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1235.323)
 58% 61%      Acción DQN: 0 (Q-value: 1188.255)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1173.920)
 76% 79%      Acción DQN: 0 (Q-value: 1250.089)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1160.150)
 94% 97% Completado
Episodio 1 completado:
   Recompensa: -12902.76 (promedio últimos 3: -12902.76)
   Satisfacción energética: 3.8% (promedio últimos 3: 3.8%)
   Vehículos asignados: 28/554 (5.1%)
   Vehículos saltados: 516/554 (93.1%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -12899.00

Episodio 2/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1569.802)
 4% 7%      Acción DQN: 0 (Q-value: 1375.904)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1413.984)
 22% 25%      Acción DQN: 0 (Q-value: 1243.745)
 29% 32% 36%      Acción aleatoria: 0 (epsilon: 0.100)
 40% 43%      Acción DQN: 0 (Q-value: 1070.407)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1070.772)
 58% 61%      Acción DQN: 0 (Q-value: 1049.536)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1050.273)
 76% 79%      Acción DQN: 5 (Q-value: 1068.316)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1011.556)
 94% 97% Completado
Episodio 2 completado:
   Recompensa: -12813.14 (promedio últimos 3: -12813.14)
   Satisfacción energética: 4.2% (promedio últimos 3: 4.2%)
   Vehículos asignados: 27/554 (4.9%)
   Vehículos saltados: 517/554 (93.3%)
   Tiempo: 1.8s
   Pasos: 544
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -12808.91

Episodio 3/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1591.633)
 4% 7%      Acción DQN: 0 (Q-value: 1396.004)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1272.811)
 22% 25%      Acción DQN: 0 (Q-value: 1186.955)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1148.027)
 40% 43%      Acción DQN: 0 (Q-value: 1132.049)
 47% 51% 54%      Acción aleatoria: 0 (epsilon: 0.100)
 58% 61%      Acción aleatoria: 0 (epsilon: 0.100)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1016.855)
 76% 79%      Acción DQN: 2 (Q-value: 1123.411)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1078.026)
 94% 97% Completado
Episodio 3 completado:
   Recompensa: -12753.59 (promedio últimos 3: -12823.17)
   Satisfacción energética: 4.0% (promedio últimos 3: 4.0%)
   Vehículos asignados: 29/554 (5.2%)
   Vehículos saltados: 515/554 (93.0%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Nuevo mejor modelo! Métrica combinada: -12749.58
ETA: 0.6 minutos restantes

Episodio 4/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1644.645)
 4% 7%      Acción DQN: 0 (Q-value: 1393.315)
 11% 14% 18%      Acción aleatoria: 0 (epsilon: 0.100)
 22% 25%      Acción DQN: 0 (Q-value: 1110.381)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1031.240)
 40% 43%      Acción DQN: 0 (Q-value: 1029.430)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1097.993)
 58% 61%      Acción DQN: 0 (Q-value: 1016.548)
 65% 69% 72%      Acción DQN: 0 (Q-value: 953.368)
 76% 79%      Acción aleatoria: 5 (epsilon: 0.100)
 83% 87% 90%      Acción DQN: 0 (Q-value: 978.989)
 94% 97% Completado
Episodio 4 completado:
   Recompensa: -13110.14 (promedio últimos 3: -12892.29)
   Satisfacción energética: 3.9% (promedio últimos 3: 4.0%)
   Vehículos asignados: 23/554 (4.2%)
   Vehículos saltados: 521/554 (94.0%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 0.6 minutos restantes

Episodio 5/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 5 (Q-value: 1822.470)
 4% 7%      Acción DQN: 0 (Q-value: 1469.503)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1401.031)
 22% 25%      Acción DQN: 0 (Q-value: 1327.103)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1315.654)
 40% 43%      Acción DQN: 0 (Q-value: 1186.490)
 47% 51% 54%      Acción aleatoria: 0 (epsilon: 0.100)
 58% 61%      Acción DQN: 0 (Q-value: 1478.097)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1500.847)
 76% 79%      Acción DQN: 1 (Q-value: 1608.284)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1399.749)
 94% 97% Completado
Episodio 5 completado:
   Recompensa: -11973.78 (promedio últimos 3: -12612.50)
   Satisfacción energética: 5.1% (promedio últimos 3: 4.3%)
   Vehículos asignados: 35/554 (6.3%)
   Vehículos saltados: 509/554 (91.9%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_16_ep_5.h5
Nuevo mejor modelo! Métrica combinada: -11968.67
ETA: 0.6 minutos restantes

Episodio 6/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 5 (Q-value: 2492.140)
 4% 7%      Acción DQN: 0 (Q-value: 1735.059)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1685.438)
 22% 25%      Acción DQN: 0 (Q-value: 1399.380)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1334.914)
 40% 43%      Acción DQN: 0 (Q-value: 1219.915)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1145.018)
 58% 61%      Acción DQN: 0 (Q-value: 1129.935)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1260.058)
 76% 79%      Acción DQN: 0 (Q-value: 1289.426)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1226.949)
 94% 97% Completado
Episodio 6 completado:
   Recompensa: -12750.44 (promedio últimos 3: -12611.45)
   Satisfacción energética: 4.3% (promedio últimos 3: 4.4%)
   Vehículos asignados: 28/554 (5.1%)
   Vehículos saltados: 516/554 (93.1%)
   Tiempo: 2.0s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 1/8
ETA: 0.6 minutos restantes

Episodio 7/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 5 (Q-value: 2237.535)
 4% 7%      Acción DQN: 0 (Q-value: 1585.788)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1488.581)
 22% 25%      Acción DQN: 0 (Q-value: 1370.584)
 29% 32% 36%      Acción aleatoria: 0 (epsilon: 0.100)
 40% 43%      Acción DQN: 0 (Q-value: 1159.803)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1130.667)
 58% 61%      Acción DQN: 0 (Q-value: 1116.902)
 65% 69% 72%      Acción DQN: 0 (Q-value: 1098.514)
 76% 79%      Acción DQN: 0 (Q-value: 1106.759)
 83% 87% 90%      Acción aleatoria: 0 (epsilon: 0.100)
 94% 97% Completado
Episodio 7 completado:
   Recompensa: -12277.26 (promedio últimos 3: -12333.83)
   Satisfacción energética: 4.4% (promedio últimos 3: 4.6%)
   Vehículos asignados: 33/554 (6.0%)
   Vehículos saltados: 511/554 (92.2%)
   Tiempo: 1.9s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 2/8
ETA: 0.6 minutos restantes

Episodio 8/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 5 (Q-value: 2131.206)
 4% 7%      Acción DQN: 0 (Q-value: 1553.931)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1414.323)
 22% 25%      Acción DQN: 0 (Q-value: 1321.120)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1174.408)
 40% 43%      Acción DQN: 0 (Q-value: 1105.077)
 47% 51% 54%      Acción DQN: 0 (Q-value: 1002.353)
 58% 61%      Acción DQN: 0 (Q-value: 974.868)
 65% 69% 72%      Acción DQN: 0 (Q-value: 994.337)
 76% 79%      Acción DQN: 0 (Q-value: 1048.724)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1061.989)
 94% 97% Completado
Episodio 8 completado:
   Recompensa: -12619.65 (promedio últimos 3: -12549.12)
   Satisfacción energética: 4.2% (promedio últimos 3: 4.3%)
   Vehículos asignados: 30/554 (5.4%)
   Vehículos saltados: 514/554 (92.8%)
   Tiempo: 1.8s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 3/8
ETA: 0.5 minutos restantes

Episodio 9/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 2020.544)
 4% 7%      Acción aleatoria: 0 (epsilon: 0.100)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1649.650)
 22% 25%      Acción DQN: 0 (Q-value: 1387.368)
 29% 32% 36%      Acción aleatoria: 0 (epsilon: 0.100)
 40% 43%      Acción aleatoria: 0 (epsilon: 0.100)
 47% 51% 54%      Acción aleatoria: 0 (epsilon: 0.100)
 58% 61%      Acción DQN: 0 (Q-value: 898.136)
 65% 69% 72%      Acción aleatoria: 0 (epsilon: 0.100)
 76% 79%      Acción DQN: 0 (Q-value: 928.227)
 83% 87% 90%      Acción DQN: 0 (Q-value: 926.120)
 94% 97% Completado
Episodio 9 completado:
   Recompensa: -12932.92 (promedio últimos 3: -12609.94)
   Satisfacción energética: 4.0% (promedio últimos 3: 4.2%)
   Vehículos asignados: 27/554 (4.9%)
   Vehículos saltados: 517/554 (93.3%)
   Tiempo: 1.6s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 4/8
ETA: 0.5 minutos restantes

Episodio 10/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1998.720)
 4% 7%      Acción DQN: 0 (Q-value: 1699.561)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1462.323)
 22% 25%      Acción DQN: 0 (Q-value: 1245.052)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1213.321)
 40% 43%      Acción DQN: 0 (Q-value: 1062.291)
 47% 51% 54%      Acción DQN: 0 (Q-value: 949.750)
 58% 61%      Acción DQN: 0 (Q-value: 938.400)
 65% 69% 72%      Acción DQN: 0 (Q-value: 924.481)
 76% 79%      Acción DQN: 2 (Q-value: 1059.717)
 83% 87% 90%      Acción DQN: 0 (Q-value: 993.623)
 94% 97% Completado
Episodio 10 completado:
   Recompensa: -12267.05 (promedio últimos 3: -12606.54)
   Satisfacción energética: 4.5% (promedio últimos 3: 4.3%)
   Vehículos asignados: 34/554 (6.1%)
   Vehículos saltados: 510/554 (92.1%)
   Tiempo: 1.8s
   Pasos: 544
   Entrenando red neuronal...
Guardando checkpoint: ./checkpoints\checkpoint_sys_16_ep_10.h5
Sin mejora. Paciencia: 5/8
ETA: 0.4 minutos restantes

Episodio 11/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1980.439)
 4% 7%      Acción DQN: 0 (Q-value: 1621.343)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1539.648)
 22% 25%      Acción DQN: 0 (Q-value: 1401.701)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1211.172)
 40% 43%      Acción DQN: 0 (Q-value: 1073.656)
 47% 51% 54%      Acción DQN: 0 (Q-value: 968.179)
 58% 61%      Acción DQN: 0 (Q-value: 871.316)
 65% 69% 72%      Acción DQN: 0 (Q-value: 869.472)
 76% 79%      Acción DQN: 0 (Q-value: 880.877)
 83% 87% 90%      Acción DQN: 0 (Q-value: 983.756)
 94% 97% Completado
Episodio 11 completado:
   Recompensa: -12982.39 (promedio últimos 3: -12727.45)
   Satisfacción energética: 3.8% (promedio últimos 3: 4.1%)
   Vehículos asignados: 26/554 (4.7%)
   Vehículos saltados: 518/554 (93.5%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 6/8
ETA: 0.4 minutos restantes

Episodio 12/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 5 (Q-value: 2059.761)
 4% 7%      Acción DQN: 0 (Q-value: 1691.808)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1501.369)
 22% 25%      Acción DQN: 0 (Q-value: 1365.503)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1086.860)
 40% 43%      Acción DQN: 0 (Q-value: 968.548)
 47% 51% 54%      Acción DQN: 0 (Q-value: 925.449)
 58% 61%      Acción DQN: 0 (Q-value: 927.591)
 65% 69% 72%      Acción DQN: 0 (Q-value: 933.884)
 76% 79%      Acción DQN: 1 (Q-value: 1023.272)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1006.126)
 94% 97% Completado
Episodio 12 completado:
   Recompensa: -12284.30 (promedio últimos 3: -12511.25)
   Satisfacción energética: 4.9% (promedio últimos 3: 4.4%)
   Vehículos asignados: 33/554 (6.0%)
   Vehículos saltados: 511/554 (92.2%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 7/8
ETA: 0.4 minutos restantes

Episodio 13/25 (Sistema 17)
   Epsilon actual: 0.0999
   Memoria: 12000/12000
   Procesando 554 vehículos...      Acción DQN: 8 (Q-value: 1944.357)
 4% 7%      Acción aleatoria: 0 (epsilon: 0.100)
 11% 14% 18%      Acción DQN: 0 (Q-value: 1530.665)
 22% 25%      Acción DQN: 0 (Q-value: 1374.760)
 29% 32% 36%      Acción DQN: 0 (Q-value: 1157.454)
 40% 43%      Acción DQN: 0 (Q-value: 1061.708)
 47% 51% 54%      Acción DQN: 0 (Q-value: 987.142)
 58% 61%      Acción DQN: 0 (Q-value: 883.367)
 65% 69% 72%      Acción DQN: 0 (Q-value: 966.965)
 76% 79%      Acción aleatoria: 0 (epsilon: 0.100)
 83% 87% 90%      Acción DQN: 0 (Q-value: 1136.346)
 94% 97% Completado
Episodio 13 completado:
   Recompensa: -13261.82 (promedio últimos 3: -12842.83)
   Satisfacción energética: 3.4% (promedio últimos 3: 4.0%)
   Vehículos asignados: 22/554 (4.0%)
   Vehículos saltados: 522/554 (94.2%)
   Tiempo: 1.7s
   Pasos: 544
   Entrenando red neuronal...
Sin mejora. Paciencia: 8/8
Early stopping tras 8 episodios sin mejora
Cargado mejor modelo desde ./checkpoints\best_model_sys_16.h5
Progreso del sistema 17 guardado en: ./learning_progress\system_17_progress.json
RESUMEN SISTEMA 17:
  Mejora en recompensa: -359.06
  Mejora en satisfacción: -0.4%
  Satisfacción final: 3.4%
  Ratio asignación final: 4.0%

RESUMEN SISTEMA 17:
   Tiempo total: 0.4 minutos
   Recompensa promedio: -12686.86
   Mejor métrica combinada: -11968.67
   Satisfacción promedio: 4.2%
   Mejor satisfacción: 5.1%
   Episodios completados: 13
   Epsilon final: 0.0999


ENTRENAMIENTO COMPLETADO!
Tiempo total: 4.4 minutos
Episodios totales: 225
Memoria final: 12000 experiencias
Epsilon final: 0.0999
Modelo guardado en: ev_scheduler_model_pytorch.pt


Guardando modelo final en ev_scheduler_model_pytorch.pt...
Modelo guardado exitosamente

Entrenamiento completado en 265.50 segundos.
Modelo guardado en: ./ev_scheduler_model.h5